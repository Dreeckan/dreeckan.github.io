<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Réécrire l&#39;historique</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Les formations de Rémi Jarjat pour Human Booster">
    
    <link rel="preload" href="/assets/css/0.styles.f78ef515.css" as="style"><link rel="preload" href="/assets/js/app.a0283a3d.js" as="script"><link rel="preload" href="/assets/js/2.2bb1f65b.js" as="script"><link rel="preload" href="/assets/js/19.9b33ed18.js" as="script"><link rel="prefetch" href="/assets/js/10.a27b6e9d.js"><link rel="prefetch" href="/assets/js/11.2193e9e3.js"><link rel="prefetch" href="/assets/js/12.f39a5b44.js"><link rel="prefetch" href="/assets/js/13.2d6a44aa.js"><link rel="prefetch" href="/assets/js/14.0673e9ad.js"><link rel="prefetch" href="/assets/js/15.a5eeeada.js"><link rel="prefetch" href="/assets/js/16.33dfc880.js"><link rel="prefetch" href="/assets/js/17.c79025e1.js"><link rel="prefetch" href="/assets/js/18.959ecd03.js"><link rel="prefetch" href="/assets/js/20.ef228a5b.js"><link rel="prefetch" href="/assets/js/21.95b935c1.js"><link rel="prefetch" href="/assets/js/22.6089ec44.js"><link rel="prefetch" href="/assets/js/23.1786dcbd.js"><link rel="prefetch" href="/assets/js/24.1cc8c701.js"><link rel="prefetch" href="/assets/js/25.bfc350ad.js"><link rel="prefetch" href="/assets/js/26.bc869606.js"><link rel="prefetch" href="/assets/js/27.2974731f.js"><link rel="prefetch" href="/assets/js/28.c59ffda1.js"><link rel="prefetch" href="/assets/js/29.a4f4f78c.js"><link rel="prefetch" href="/assets/js/3.b306ebdc.js"><link rel="prefetch" href="/assets/js/30.f86e1c24.js"><link rel="prefetch" href="/assets/js/31.3a368f51.js"><link rel="prefetch" href="/assets/js/32.ae32716d.js"><link rel="prefetch" href="/assets/js/33.04577fe2.js"><link rel="prefetch" href="/assets/js/34.0036621d.js"><link rel="prefetch" href="/assets/js/35.ae9cca52.js"><link rel="prefetch" href="/assets/js/36.46328e65.js"><link rel="prefetch" href="/assets/js/37.b265ca29.js"><link rel="prefetch" href="/assets/js/38.30e09b09.js"><link rel="prefetch" href="/assets/js/39.b34ea9f8.js"><link rel="prefetch" href="/assets/js/4.1b3f0ff6.js"><link rel="prefetch" href="/assets/js/40.6ee002ae.js"><link rel="prefetch" href="/assets/js/41.fc420cf4.js"><link rel="prefetch" href="/assets/js/42.209ec249.js"><link rel="prefetch" href="/assets/js/43.2d7d1cd7.js"><link rel="prefetch" href="/assets/js/44.b9fd8430.js"><link rel="prefetch" href="/assets/js/45.15ab68bd.js"><link rel="prefetch" href="/assets/js/46.01b8ec0e.js"><link rel="prefetch" href="/assets/js/47.112cd2f4.js"><link rel="prefetch" href="/assets/js/48.867e58b9.js"><link rel="prefetch" href="/assets/js/49.3ac37d3e.js"><link rel="prefetch" href="/assets/js/5.784f0707.js"><link rel="prefetch" href="/assets/js/50.f9dae8e2.js"><link rel="prefetch" href="/assets/js/51.43768ca2.js"><link rel="prefetch" href="/assets/js/52.dde625a3.js"><link rel="prefetch" href="/assets/js/53.72d8e143.js"><link rel="prefetch" href="/assets/js/54.bc802a1c.js"><link rel="prefetch" href="/assets/js/55.e1f55ab2.js"><link rel="prefetch" href="/assets/js/56.1118b442.js"><link rel="prefetch" href="/assets/js/57.c6e74a85.js"><link rel="prefetch" href="/assets/js/58.cfab71d0.js"><link rel="prefetch" href="/assets/js/59.6fb84388.js"><link rel="prefetch" href="/assets/js/6.a94e70e9.js"><link rel="prefetch" href="/assets/js/60.f130f013.js"><link rel="prefetch" href="/assets/js/61.99515c03.js"><link rel="prefetch" href="/assets/js/62.d3e48f49.js"><link rel="prefetch" href="/assets/js/7.8a7612b0.js"><link rel="prefetch" href="/assets/js/8.82725242.js"><link rel="prefetch" href="/assets/js/9.8e900de4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f78ef515.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/LogoHB.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Liste des cours</a></li><li><a href="/general/" class="sidebar-link">Culture numérique</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/git/" class="sidebar-heading clickable router-link-active open"><span>Git</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/git/0-terminologie.html" class="sidebar-link">Terminologie</a></li><li><a href="/git/1-before_start.html" class="sidebar-link">Avant de commencer</a></li><li><a href="/git/2-init_local.html" class="sidebar-link">Créer un dépôt (local)</a></li><li><a href="/git/3-record_changes.html" class="sidebar-link">Enregistrer des changements</a></li><li><a href="/git/4-branches.html" class="sidebar-link">Des branches</a></li><li><a href="/git/5-common-work.html" class="sidebar-link">Mise en commun du travail</a></li><li><a href="/git/6-rollback.html" class="sidebar-link">Annuler des changements</a></li><li><a href="/git/7-rewrite-history.html" aria-current="page" class="active sidebar-link">Réécrire l'historique</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/git/7-rewrite-history.html#commit-amend-modifier-le-dernier-commit" class="sidebar-link">Commit --amend - Modifier le dernier commit</a></li><li class="sidebar-sub-header"><a href="/git/7-rewrite-history.html#rebase-modifier-tout-l-historique" class="sidebar-link">Rebase - Modifier tout l'historique</a></li></ul></li><li><a href="/git/8-tools.html" class="sidebar-link">Des outils pour se simplifier Git</a></li><li><a href="/git/99-examples.html" class="sidebar-link">Exemples pratiques</a></li></ul></section></li><li><a href="/linux/" class="sidebar-link">Linux</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/php/" class="sidebar-heading clickable"><span>PHP</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/symfony/" class="sidebar-heading clickable"><span>Symfony</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/js/" class="sidebar-heading clickable"><span>Javascript</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/lamp/" class="sidebar-link">Serveur Lamp</a></li><li><a href="/deploy/" class="sidebar-link">Déploiement</a></li><li><a href="/docker/" class="sidebar-link">Docker</a></li><li><a href="/ci/" class="sidebar-link">Intégration continue</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="reecrire-l-historique"><a href="#reecrire-l-historique" class="header-anchor">#</a> Réécrire l'historique</h1> <h2 id="commit-amend-modifier-le-dernier-commit"><a href="#commit-amend-modifier-le-dernier-commit" class="header-anchor">#</a> Commit --amend - Modifier le dernier commit</h2> <p>La commande <code>git commit --amend</code> permet de modifier le dernier commit.</p> <p>En vidéo :</p> <div style="position:relative;padding-bottom:56.25%;height:0;"><iframe src="https://www.loom.com/embed/95e059f894e5489f8adf01f9963f2211" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div> <ul><li><em>(optionnel)</em> Vous pouvez ajouter des modifications au commit précédent en les ajoutant à l'index (<code>git add .</code> ou <code>git add nomDuFichier</code>)</li> <li><code>git commit --amend</code> vous ouvre l'éditeur de texte pour modifier le message du dernier commit (le fermer pour valider)</li> <li>Votre dernier commit a été modifié (et n'a plus le même identifiant)</li></ul> <p>⚠️ Si vous aviez déjà envoyé le commit sur le dépôt distant, il faudra utiliser l'option <code>--force</code> lors du <code>push</code>. Veillez donc à ne pas perdre des commits sur le distant !</p> <h2 id="rebase-modifier-tout-l-historique"><a href="#rebase-modifier-tout-l-historique" class="header-anchor">#</a> Rebase - Modifier tout l'historique</h2> <p>La commande <code>git rebase</code> permet de modifier l'historique de la branche en cours. Non seulement d'en changer la &quot;base&quot; (son commit de départ), mais aussi de réécrire les commits eux-mêmes.</p> <p>En vidéo :</p> <div style="position:relative;padding-bottom:56.25%;height:0;"><iframe src="https://www.loom.com/embed/a26a0e8551fd4e56a6efd185f07cb79a" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div> <p>L'utilisation la plus complète est <code>git rebase -i main</code> (remplacer <code>main</code> par une autre branche si besoin), qui vous ouvre un éditeur pour définir ce que vous souhaitez faire pour chaque commit présent entre la tête de lecture et le dernier commit de la branche <code>main</code>.</p> <p>Vous pouvez, <strong>entre autre</strong> :</p> <ul><li>utiliser le commit en utilisant <code>p</code> ou <code>pick</code> sur la ligne de votre commit (il sera utilisé sans modification)</li> <li>supprimer le commit en utilisant <code>d</code> ou <code>drop</code> sur la ligne de votre commit (il sera supprimé, ainsi que les modifications qu'il contient). Notez que c'est équivalent à supprimer la ligne du commit</li> <li>modifier le message de commit en utilisant <code>r</code> ou <code>reword</code> sur la ligne de votre commit (vous ouvrira un éditeur de texte pour modifier le message)</li> <li>fusionner un commit avec le précédent en utilisant <code>s</code> ou <code>squash</code> sur la ligne de votre commit (un seul des deux commits sera conservé, mais <strong>toutes</strong> les modifications seront conservées)</li></ul> <p>Une fois que vous avez choisi quoi faire de chaque commit, les commandes indiquées et les commits seront appliqués l'un après l'autre.</p> <p>⚠️ Si vous aviez déjà envoyé les commits sur le dépôt distant, il faudra utiliser l'option <code>--force</code> lors du <code>push</code>. Veillez donc à ne pas perdre des commits sur le distant !</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/git/6-rollback.html" class="prev">
        Annuler des changements
      </a></span> <span class="next"><a href="/git/8-tools.html">
        Des outils pour se simplifier Git
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.a0283a3d.js" defer></script><script src="/assets/js/2.2bb1f65b.js" defer></script><script src="/assets/js/19.9b33ed18.js" defer></script>
  </body>
</html>
