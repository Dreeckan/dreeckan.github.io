<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>PDO (PHP Data Object)</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Les formations de Rémi Jarjat pour Human Booster">
    
    <link rel="preload" href="/assets/css/0.styles.f78ef515.css" as="style"><link rel="preload" href="/assets/js/app.a0283a3d.js" as="script"><link rel="preload" href="/assets/js/2.2bb1f65b.js" as="script"><link rel="preload" href="/assets/js/38.30e09b09.js" as="script"><link rel="prefetch" href="/assets/js/10.a27b6e9d.js"><link rel="prefetch" href="/assets/js/11.2193e9e3.js"><link rel="prefetch" href="/assets/js/12.f39a5b44.js"><link rel="prefetch" href="/assets/js/13.2d6a44aa.js"><link rel="prefetch" href="/assets/js/14.0673e9ad.js"><link rel="prefetch" href="/assets/js/15.a5eeeada.js"><link rel="prefetch" href="/assets/js/16.33dfc880.js"><link rel="prefetch" href="/assets/js/17.c79025e1.js"><link rel="prefetch" href="/assets/js/18.959ecd03.js"><link rel="prefetch" href="/assets/js/19.9b33ed18.js"><link rel="prefetch" href="/assets/js/20.ef228a5b.js"><link rel="prefetch" href="/assets/js/21.95b935c1.js"><link rel="prefetch" href="/assets/js/22.6089ec44.js"><link rel="prefetch" href="/assets/js/23.1786dcbd.js"><link rel="prefetch" href="/assets/js/24.1cc8c701.js"><link rel="prefetch" href="/assets/js/25.bfc350ad.js"><link rel="prefetch" href="/assets/js/26.bc869606.js"><link rel="prefetch" href="/assets/js/27.2974731f.js"><link rel="prefetch" href="/assets/js/28.c59ffda1.js"><link rel="prefetch" href="/assets/js/29.a4f4f78c.js"><link rel="prefetch" href="/assets/js/3.b306ebdc.js"><link rel="prefetch" href="/assets/js/30.f86e1c24.js"><link rel="prefetch" href="/assets/js/31.3a368f51.js"><link rel="prefetch" href="/assets/js/32.ae32716d.js"><link rel="prefetch" href="/assets/js/33.04577fe2.js"><link rel="prefetch" href="/assets/js/34.0036621d.js"><link rel="prefetch" href="/assets/js/35.ae9cca52.js"><link rel="prefetch" href="/assets/js/36.46328e65.js"><link rel="prefetch" href="/assets/js/37.b265ca29.js"><link rel="prefetch" href="/assets/js/39.b34ea9f8.js"><link rel="prefetch" href="/assets/js/4.1b3f0ff6.js"><link rel="prefetch" href="/assets/js/40.6ee002ae.js"><link rel="prefetch" href="/assets/js/41.fc420cf4.js"><link rel="prefetch" href="/assets/js/42.209ec249.js"><link rel="prefetch" href="/assets/js/43.2d7d1cd7.js"><link rel="prefetch" href="/assets/js/44.b9fd8430.js"><link rel="prefetch" href="/assets/js/45.15ab68bd.js"><link rel="prefetch" href="/assets/js/46.01b8ec0e.js"><link rel="prefetch" href="/assets/js/47.112cd2f4.js"><link rel="prefetch" href="/assets/js/48.867e58b9.js"><link rel="prefetch" href="/assets/js/49.3ac37d3e.js"><link rel="prefetch" href="/assets/js/5.784f0707.js"><link rel="prefetch" href="/assets/js/50.f9dae8e2.js"><link rel="prefetch" href="/assets/js/51.43768ca2.js"><link rel="prefetch" href="/assets/js/52.dde625a3.js"><link rel="prefetch" href="/assets/js/53.72d8e143.js"><link rel="prefetch" href="/assets/js/54.bc802a1c.js"><link rel="prefetch" href="/assets/js/55.e1f55ab2.js"><link rel="prefetch" href="/assets/js/56.1118b442.js"><link rel="prefetch" href="/assets/js/57.c6e74a85.js"><link rel="prefetch" href="/assets/js/58.cfab71d0.js"><link rel="prefetch" href="/assets/js/59.6fb84388.js"><link rel="prefetch" href="/assets/js/6.a94e70e9.js"><link rel="prefetch" href="/assets/js/60.f130f013.js"><link rel="prefetch" href="/assets/js/61.99515c03.js"><link rel="prefetch" href="/assets/js/62.d3e48f49.js"><link rel="prefetch" href="/assets/js/7.8a7612b0.js"><link rel="prefetch" href="/assets/js/8.82725242.js"><link rel="prefetch" href="/assets/js/9.8e900de4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f78ef515.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/LogoHB.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Liste des cours</a></li><li><a href="/general/" class="sidebar-link">Culture numérique</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/git/" class="sidebar-heading clickable"><span>Git</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/linux/" class="sidebar-link">Linux</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/php/" class="sidebar-heading clickable router-link-active open"><span>PHP</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/php/00-intro.html" class="sidebar-link">Introduction à PHP</a></li><li><a href="/php/01-doc.html" class="sidebar-link">PSR et PHP Doc</a></li><li><a href="/php/02-objet.html" class="sidebar-link">PHP Orienté objet</a></li><li><a href="/php/03-pdo.html" aria-current="page" class="active sidebar-link">PDO (PHP Data Object)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/03-pdo.html#l-extension-pdo" class="sidebar-link">L'extension PDO</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/03-pdo.html#quels-sgbd-utiliser-avec-pdo" class="sidebar-link">Quels  utiliser avec PDO ?</a></li><li class="sidebar-sub-header"><a href="/php/03-pdo.html#principes" class="sidebar-link">Principes</a></li></ul></li><li class="sidebar-sub-header"><a href="/php/03-pdo.html#se-connecter-a-la-base" class="sidebar-link">Se connecter à la base</a></li><li class="sidebar-sub-header"><a href="/php/03-pdo.html#gerer-les-erreurs" class="sidebar-link">Gérer les erreurs</a></li><li class="sidebar-sub-header"><a href="/php/03-pdo.html#requetes-directes" class="sidebar-link">Requêtes directes</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/03-pdo.html#pdo-query" class="sidebar-link">PDO::query()</a></li><li class="sidebar-sub-header"><a href="/php/03-pdo.html#pdo-exec" class="sidebar-link">PDO::exec()</a></li></ul></li><li class="sidebar-sub-header"><a href="/php/03-pdo.html#les-requetes-preparees" class="sidebar-link">Les requêtes préparées</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/03-pdo.html#pdostatement" class="sidebar-link">PDOStatement</a></li><li class="sidebar-sub-header"><a href="/php/03-pdo.html#les-marqueurs-de-positionnement" class="sidebar-link">Les marqueurs de positionnement</a></li><li class="sidebar-sub-header"><a href="/php/03-pdo.html#les-parametres-nommes" class="sidebar-link">Les paramètres nommés</a></li></ul></li><li class="sidebar-sub-header"><a href="/php/03-pdo.html#recuperer-l-identifiant-du-dernier-element-enregistre" class="sidebar-link">Récupérer l'identifiant du dernier élément enregistré</a></li><li class="sidebar-sub-header"><a href="/php/03-pdo.html#phpmyadmin-et-la-console-mysql-de-wamp" class="sidebar-link">PHPMyAdmin et la console MySQL de Wamp</a></li><li class="sidebar-sub-header"><a href="/php/03-pdo.html#exercices" class="sidebar-link">Exercices</a></li></ul></li><li><a href="/php/04-rest.html" class="sidebar-link">Webservices REST</a></li><li><a href="/php/99-exercices.html" class="sidebar-link">Exercices PHP</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/symfony/" class="sidebar-heading clickable"><span>Symfony</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/js/" class="sidebar-heading clickable"><span>Javascript</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/lamp/" class="sidebar-link">Serveur Lamp</a></li><li><a href="/deploy/" class="sidebar-link">Déploiement</a></li><li><a href="/docker/" class="sidebar-link">Docker</a></li><li><a href="/ci/" class="sidebar-link">Intégration continue</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="pdo-php-data-object"><a href="#pdo-php-data-object" class="header-anchor">#</a> PDO (PHP Data Object)</h1> <h2 id="l-extension-pdo"><a href="#l-extension-pdo" class="header-anchor">#</a> L'extension PDO</h2> <p><a href="https://www.php.net/manual/fr/book.pdo.php" target="_blank" rel="noopener noreferrer">La documentation sur PDO<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>PDO est une extension de PHP, permettant la gestion de la <abbr title="Base de Données">BdD</abbr> (connexion et utilisation de requêtes SQL pour créer/modifier les données).</p> <p>Il offre différentes fonctionnalités, dont :</p> <ul><li>des requêtes préparées, pour améliorer la sécurité et les performances</li> <li>des transactions, pour exécuter un ensemble de requête, uniquement si <strong>toutes</strong> fonctionnent (sinon aucune donnée n'est ajoutée/modifiée)</li></ul> <p>PDO sert de base à de nombreux <abbr title="Object-Relational Mapping">ORM</abbr>, tels que Doctrine, que vous verrez dans <a href="/symfony/">la partie consacrée à Symfony</a>.</p> <h3 id="quels-sgbd-utiliser-avec-pdo"><a href="#quels-sgbd-utiliser-avec-pdo" class="header-anchor">#</a> Quels <abbr title="Système de Gestion de Base de Données">SGBD</abbr> utiliser avec PDO ?</h3> <ul><li>Mysql (l'un des plus courants)</li> <li>Oracle</li> <li>PostgreSQL</li> <li>et bien d'autres</li></ul> <h3 id="principes"><a href="#principes" class="header-anchor">#</a> Principes</h3> <p>PDO offre des classes pour gérer :</p> <ul><li>la connexion à la BdD</li> <li>la préparation et l'envoi de requêtes SQL</li> <li>la gestion des transactions</li></ul> <h2 id="se-connecter-a-la-base"><a href="#se-connecter-a-la-base" class="header-anchor">#</a> Se connecter à la base</h2> <p>PDO fournit un objet (<code>PDO</code>) de connexion à la BdD, que l'on va utiliser pour faire ensuite nos requêtes. On en crée en général une instance, que l'on inclue dans nos autres scripts, pour faire des requêtes. Cet objet peut renvoyer une exception, pour vous permettre de détecter les problèmes de connexion dès que possible.</p> <p>Pour se connecter, on crée (en général), un fichier spécifique, qu'on appelle sur nos pages (par exemple <code>includes/config.inc.php</code>)</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">// Ici, adapter les valeurs de dbname et port à votre configuration</span>
<span class="token variable">$dsn</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'mysql:dbname=cours;port=3306;host=127.0.0.1'</span><span class="token punctuation">;</span>
<span class="token variable">$user</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'root'</span><span class="token punctuation">;</span> <span class="token comment">// Utilisateur par défaut</span>
<span class="token variable">$password</span> <span class="token operator">=</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span> <span class="token comment">// Par défaut, pas de mot de passe sur Wamp</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token variable">$connection</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PDO</span><span class="token punctuation">(</span><span class="token variable">$dsn</span><span class="token punctuation">,</span> <span class="token variable">$user</span><span class="token punctuation">,</span> <span class="token variable">$password</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
        <span class="token comment">// Définition du mode d'erreur : on renvoie une exception </span>
        <span class="token comment">// dès qu'une erreur se produit dans les requêtes</span>
        <span class="token class-name static-context">PDO</span><span class="token operator">::</span><span class="token constant">ATTR_ERRMODE</span> <span class="token operator">=&gt;</span> <span class="token class-name static-context">PDO</span><span class="token operator">::</span><span class="token constant">ERRMODE_EXCEPTION</span><span class="token punctuation">,</span>
        <span class="token comment">// On défini sous quel format on récupère les données de la base</span>
        <span class="token comment">// On peut les récupérer sous la forme :</span>
        <span class="token comment">// - D'un tableau associatif avec PDO::FETCH_ASSOC</span>
        <span class="token comment">// - D'un objet avec PDO::FETCH_OBJ</span>
        <span class="token class-name static-context">PDO</span><span class="token operator">::</span><span class="token constant">ATTR_DEFAULT_FETCH_MODE</span> <span class="token operator">=&gt;</span> <span class="token class-name static-context">PDO</span><span class="token operator">::</span><span class="token constant">FETCH_ASSOC</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">PDOException</span> <span class="token variable">$e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Connexion échouée : '</span> <span class="token operator">.</span> <span class="token variable">$e</span><span class="token operator">-&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></code></pre></div><h2 id="gerer-les-erreurs"><a href="#gerer-les-erreurs" class="header-anchor">#</a> Gérer les erreurs</h2> <ul><li>La <a href="https://www.php.net/manual/fr/class.pdoexception.php" target="_blank" rel="noopener noreferrer">documentation officielle sur la classe PDOException<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Le <a href="https://www.php.net/manual/fr/language.exceptions.php" target="_blank" rel="noopener noreferrer">chapitre de la documentation sur les exceptions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>Avec l'initialisation de la connexion ci-dessus, les requêtes renvoient une exception en cas de soucis. Si vous changez le paramètre <code>PDO::ATTR_ERRMODE</code>, les méthodes exécutant des requêtes peuvent renvoyer <code>false</code> si la requête SQL s'est mal passée. Pour récupérer le détail de l'erreur, vous pouvez utilise la méthode <code>errorInfo()</code> de PDO :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$isDone</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">errorInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Pour afficher seulement le message d'erreur, vous pouvez utiliser directement l'index 2 du tableau.</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Erreur lors de la requête : '</span><span class="token operator">.</span><span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">errorInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Dans la connexion, vous allez principalement avoir un seul type d'exception <code>PDOException</code>, mais vous pourriez avoir d'autres types d'exception :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$dsn</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'mysql:dbname=cours;host=127.0.0.1'</span><span class="token punctuation">;</span>
<span class="token variable">$user</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'root'</span><span class="token punctuation">;</span> <span class="token comment">// Utilisateur par défaut</span>
<span class="token variable">$password</span> <span class="token operator">=</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span> <span class="token comment">// Par défaut, pas de mot de passe sur Wamp</span>

<span class="token keyword">try</span> <span class="token punctuation">{</span>
    <span class="token variable">$connection</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PDO</span><span class="token punctuation">(</span><span class="token variable">$dsn</span><span class="token punctuation">,</span> <span class="token variable">$user</span><span class="token punctuation">,</span> <span class="token variable">$password</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">PDOException</span> <span class="token variable">$e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Connexion échouée : '</span> <span class="token operator">.</span> <span class="token variable">$e</span><span class="token operator">-&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> <span class="token variable">$e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'Connexion échouée : '</span> <span class="token operator">.</span> <span class="token variable">$e</span><span class="token operator">-&gt;</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="requetes-directes"><a href="#requetes-directes" class="header-anchor">#</a> Requêtes directes</h2> <h3 id="pdo-query"><a href="#pdo-query" class="header-anchor">#</a> PDO::query()</h3> <p>Utilisée pour les requêtes <code>SELECT</code> :</p> <ul><li>Prend en paramètre une requête (dans une variable <code>$sql</code> dans la suite)</li> <li>S'appelle sur notre connexion : <code>$connection-&gt;query($sql)</code></li> <li>Renvoie un objet <code>PDOStatement</code> (contenant une méthode <code>fetchAll()</code>, renvoyant un tableau <strong>associatif</strong> avec les différentes lignes)</li></ul> <p>Un exemple complet :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// On crée notre requête, en prenant soin qu'elle soit valide (tester dans PhpMyAdmin, par exemple)</span>
<span class="token variable">$sql</span> <span class="token operator">=</span>  <span class="token string single-quoted-string">'SELECT id, fullname, date FROM student ORDER BY fullname'</span><span class="token punctuation">;</span>
<span class="token comment">// On appelle notre objet PDO ($connection)</span>
<span class="token comment">// et on utilise sa méthode query() pour exécuter notre requête</span>
<span class="token comment">// On récupère un objet PDOStatement qui va nous permettre de recevoir nos résultats</span>
<span class="token comment">// Si une erreur est survenue, query() renvoie false</span>
<span class="token variable">$statement</span> <span class="token operator">=</span> <span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Si $result contient false, on a eu une erreur et on l'affiche</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$statement</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Vous n'êtes bien sûr pas obligés d'arrêter l'exécution du programme </span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Erreur lors de la requête : '</span><span class="token operator">.</span><span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">errorInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Si on souhaite récupérer tous nos résultats dans un tableau associatif,</span>
<span class="token comment">// on utilise fetchAll() </span>
<span class="token variable">$results</span> <span class="token operator">=</span> <span class="token variable">$statement</span><span class="token operator">-&gt;</span><span class="token function">fetchAll</span><span class="token punctuation">(</span><span class="token class-name static-context">PDO</span><span class="token operator">::</span><span class="token constant">FETCH_ASSOC</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// On parcourt nos résultats</span>
<span class="token keyword">foreach</span>  <span class="token punctuation">(</span><span class="token variable">$results</span> <span class="token keyword">as</span> <span class="token variable">$result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="pdo-exec"><a href="#pdo-exec" class="header-anchor">#</a> PDO::exec()</h3> <p>Utilisée pour les requêtes autres que <code>SELECT</code> :</p> <ul><li>Prend en paramètre une requête (dans une variable <code>$sql</code> dans la suite)</li> <li>S'appelle sur notre connexion : <code>$connection-&gt;exec($sql)</code></li> <li>Renvoie le <strong>nombre</strong> de lignes affectées</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// On écrit une requête, où on insère 3 éléments</span>
<span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;INSERT INTO `student`(`fullname`) VALUES ('Rémi Jarjat'), ('Jean-Claude Duss'), ('Marc-André du Gaz de Schiste')&quot;</span><span class="token punctuation">;</span>
<span class="token comment">// On l'exécute et on récupère le nombre de lignes mises à jour</span>
<span class="token variable">$count</span> <span class="token operator">=</span> <span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// $count contient 3 (ou false en cas d'erreur)</span>

<span class="token comment">// On met à jour tous les éléments de notre table student</span>
<span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'UPDATE student SET date = NOW()'</span><span class="token punctuation">;</span>
<span class="token comment">// Si une erreur s'est produite, exec() renvoie une exception</span>
<span class="token variable">$count</span> <span class="token operator">=</span> <span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// $count contient également 3 (on modifie toutes les lignes)</span>
</code></pre></div><p>Un second exemple, où on attrape les erreurs si elles ne créent pas une exception :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;INSERT INTO contact (subject, message, email) VALUES ('Test', 'Un message de test super long !', 'test@test.com')&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Ici $result contient le nombre de lignes modifiées ou false en cas d'erreur</span>
<span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Si $result contient false, on a eu une erreur et on l'affiche</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token variable">$result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Exception</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Erreur lors de la requête : '</span><span class="token operator">.</span><span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">errorInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="les-requetes-preparees"><a href="#les-requetes-preparees" class="header-anchor">#</a> Les requêtes préparées</h2> <p>Les principaux intérêts d'une requête préparée sont si on veut exécuter une requête avec des nombreux éléments, plusieurs fois ou si on souhaite passer des paramètres sans risquer des erreurs d'écriture (les concaténations de chaines peuvent être dangereuses et pénibles à debugger). Une requête préparée sera exécutée plus vite, si elle est appelée plusieurs fois. Personnellement, je préfère préparer toutes mes requêtes, pour des simplicités d'écriture.</p> <p>En passant des paramètres, nous allons également pouvoir en vérifier le type, ce qui évitera pas mal d'erreurs côté SQL.</p> <h3 id="pdostatement"><a href="#pdostatement" class="header-anchor">#</a> PDOStatement</h3> <p><a href="https://www.php.net/manual/fr/class.pdostatement.php" target="_blank" rel="noopener noreferrer">La documentation officielle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>Cet objet intermédiaire va nous permettre de préparer les requêtes, afin de les optimiser et de réduire certaines répétitions de code.</p> <p>Un squelette minimal :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// On prépare une requête, que l'on va exécuter plus tard</span>
<span class="token comment">/** @var PDOStatement $statement */</span>
<span class="token variable">$statement</span> <span class="token operator">=</span> <span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// On peut lui passer des paramètres directement au moment de l'exécution,</span>
<span class="token comment">// mais nous allons utiliser la méthode bindParam() à la place, plus pratique</span>
<span class="token variable">$statement</span><span class="token operator">-&gt;</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token variable">$parameters</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Si la requête a réussi, on peut récupérer les résultats</span>
<span class="token comment">/** @var array $results */</span>
<span class="token variable">$results</span> <span class="token operator">=</span> <span class="token variable">$statement</span><span class="token operator">-&gt;</span><span class="token function">fetchAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="les-marqueurs-de-positionnement"><a href="#les-marqueurs-de-positionnement" class="header-anchor">#</a> Les marqueurs de positionnement</h3> <ul><li>Pour lier des paramètres (variables PHP) à une requête</li> <li>Les paramètres sont simplement numérotés</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// la méthode bindParam() attend une variable en second paramètre (passage par référence).</span>
<span class="token comment">// Lui donner une valeur directement provoque une erreur.</span>
<span class="token variable">$param</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;Test&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$statement</span> <span class="token operator">=</span> <span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'SELECT fullname FROM student WHERE fullname LIKE ?'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Attention, la numérotation des paramètres commence à 1, pas à 0</span>
<span class="token variable">$statement</span><span class="token operator">-&gt;</span><span class="token function">bindParam</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$param</span><span class="token punctuation">,</span> <span class="token class-name static-context">PDO</span><span class="token operator">::</span><span class="token constant">PARAM_STR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$statement</span><span class="token operator">-&gt;</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>L'un des grands avantages des requêtes préparées est l'utilisation dans des boucles :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$param</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;Test&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$statement</span> <span class="token operator">=</span> <span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'INSERT INTO student (fullname) VALUES (?)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$statement</span><span class="token operator">-&gt;</span><span class="token function">bindParam</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token variable">$param</span><span class="token punctuation">,</span> <span class="token class-name static-context">PDO</span><span class="token operator">::</span><span class="token constant">PARAM_STR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// À chaque exécution de la boucle, le contenu de $param va être changé</span>
<span class="token comment">// et on insère la donnée modifiée au fur et à mesure</span>
<span class="token comment">// (le contenu de $param est lu à chaque itération, grâce à bindParam)</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$param</span> <span class="token operator">+=</span> <span class="token variable">$i</span><span class="token punctuation">;</span>
    <span class="token variable">$statement</span><span class="token operator">-&gt;</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="les-parametres-nommes"><a href="#les-parametres-nommes" class="header-anchor">#</a> Les paramètres nommés</h3> <ul><li>Pour lier des paramètres (variables PHP) à une requête</li> <li>Les paramètres sont nommés, permettant de les repérer plus facilement</li> <li>Un paramètre commence toujours par <code>:</code> suivi d'un nom</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// la méthode bindParam() attend une variable en second paramètre (passage par référence).</span>
<span class="token comment">// Lui donner une valeur directement provoque une erreur.</span>
<span class="token variable">$param</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;Test&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$statement</span> <span class="token operator">=</span> <span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'INSERT INTO student (fullname) VALUES (:name)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Notre paramètre :name sera remplacé par la valeur de $param, à l'exécution de la requête</span>
<span class="token variable">$statement</span><span class="token operator">-&gt;</span><span class="token function">bindParam</span><span class="token punctuation">(</span><span class="token string single-quoted-string">':name'</span><span class="token punctuation">,</span> <span class="token variable">$param</span><span class="token punctuation">,</span> <span class="token class-name static-context">PDO</span><span class="token operator">::</span><span class="token constant">PARAM_STR</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$param</span> <span class="token operator">+=</span> <span class="token variable">$i</span><span class="token punctuation">;</span>
    <span class="token variable">$statement</span><span class="token operator">-&gt;</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="exemples-concrets"><a href="#exemples-concrets" class="header-anchor">#</a> Exemples concrets</h4> <p>Un exemple d'une requête préparée, insérant un tableau de données dans une table <code>contact</code></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;INSERT INTO contact (subject, message, email) VALUES (:subject, :message, :email)&quot;</span><span class="token punctuation">;</span>

<span class="token variable">$pdoStatement</span> <span class="token operator">=</span> <span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$contacts</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'subject'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Test'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'message'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Un message de test super long !'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'email'</span>   <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'test@test.com'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'subject'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Test2'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'message'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'Un message de test2 super long !'</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'email'</span>   <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'test2@test.com'</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token variable">$subject</span> <span class="token operator">=</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span>
<span class="token variable">$message</span> <span class="token operator">=</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span>
<span class="token variable">$email</span> <span class="token operator">=</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span>
<span class="token variable">$pdoStatement</span><span class="token operator">-&gt;</span><span class="token function">bindParam</span><span class="token punctuation">(</span><span class="token string single-quoted-string">':subject'</span><span class="token punctuation">,</span> <span class="token variable">$subject</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$pdoStatement</span><span class="token operator">-&gt;</span><span class="token function">bindParam</span><span class="token punctuation">(</span><span class="token string single-quoted-string">':message'</span><span class="token punctuation">,</span> <span class="token variable">$message</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$pdoStatement</span><span class="token operator">-&gt;</span><span class="token function">bindParam</span><span class="token punctuation">(</span><span class="token string single-quoted-string">':email'</span><span class="token punctuation">,</span> <span class="token variable">$email</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$contacts</span> <span class="token keyword">as</span> <span class="token variable">$contact</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$subject</span> <span class="token operator">=</span> <span class="token variable">$contact</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'subject'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token variable">$message</span> <span class="token operator">=</span> <span class="token variable">$contact</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'message'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token variable">$email</span> <span class="token operator">=</span> <span class="token variable">$contact</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'email'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token variable">$count</span> <span class="token operator">=</span> <span class="token variable">$pdoStatement</span><span class="token operator">-&gt;</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$count</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Un exemple de récupération de données :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;SELECT * FROM contact&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$pdoStatement</span> <span class="token operator">=</span> <span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$success</span> <span class="token operator">=</span> <span class="token variable">$pdoStatement</span><span class="token operator">-&gt;</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$results</span> <span class="token operator">=</span> <span class="token variable">$pdoStatement</span><span class="token operator">-&gt;</span><span class="token function">fetchAll</span><span class="token punctuation">(</span><span class="token class-name static-context">PDO</span><span class="token operator">::</span><span class="token constant">FETCH_ASSOC</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">exit</span><span class="token punctuation">(</span><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$results</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Un exemple avec utilisation de <code>fetch()</code> :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$sql</span> <span class="token operator">=</span> <span class="token string double-quoted-string">&quot;SELECT * FROM contact&quot;</span><span class="token punctuation">;</span>
<span class="token variable">$pdoStatement</span> <span class="token operator">=</span> <span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token variable">$sql</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$isDone</span> <span class="token operator">=</span> <span class="token variable">$pdoStatement</span><span class="token operator">-&gt;</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">while</span><span class="token punctuation">(</span><span class="token variable">$result</span> <span class="token operator">=</span> <span class="token variable">$pdoStatement</span><span class="token operator">-&gt;</span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$result</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="recuperer-l-identifiant-du-dernier-element-enregistre"><a href="#recuperer-l-identifiant-du-dernier-element-enregistre" class="header-anchor">#</a> Récupérer l'identifiant du dernier élément enregistré</h2> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$stmt</span> <span class="token operator">=</span> <span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">prepare</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;INSERT INTO truc (bidule, machin) VALUES(:bidule, :machin)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$isDone</span> <span class="token operator">=</span> <span class="token variable">$stmt</span><span class="token operator">-&gt;</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Ici, on récupère l'id du dernier élément inséré dans truc </span>
<span class="token variable">$id</span> <span class="token operator">=</span> <span class="token variable">$connection</span><span class="token operator">-&gt;</span><span class="token function">lastInsertId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="phpmyadmin-et-la-console-mysql-de-wamp"><a href="#phpmyadmin-et-la-console-mysql-de-wamp" class="header-anchor">#</a> PHPMyAdmin et la console MySQL de Wamp</h2> <ul><li><a href="http://localhost/phpmyadmin/db_structure.php?server=1&amp;db=cours" target="_blank" rel="noopener noreferrer">Un lien pour tester si Wamp est lancé<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Pour voir notre base de données et la manipuler</li></ul> <h2 id="exercices"><a href="#exercices" class="header-anchor">#</a> Exercices</h2> <p>Pour vous entrainer à manipuler PDO, utiliser</p> <ul><li>les <a href="/php/99-exercices.html">exercices sur notre site de bonnets</a> (à partir de l'exercice 34)</li> <li>le <a href="https://github.com/Dreeckan/exercices-php/#8-base-de-donn%C3%A9es" target="_blank" rel="noopener noreferrer">repository Github dédié à divers exercices<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. Les exercices à partir du numéro 8 sont dédiés à cela.</li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/php/02-objet.html" class="prev">
        PHP Orienté objet
      </a></span> <span class="next"><a href="/php/04-rest.html">
        Webservices REST
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.a0283a3d.js" defer></script><script src="/assets/js/2.2bb1f65b.js" defer></script><script src="/assets/js/38.30e09b09.js" defer></script>
  </body>
</html>
