<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Introduction à PHP</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Les formations de Rémi Jarjat pour Human Booster">
    
    <link rel="preload" href="/assets/css/0.styles.f78ef515.css" as="style"><link rel="preload" href="/assets/js/app.a0283a3d.js" as="script"><link rel="preload" href="/assets/js/2.2bb1f65b.js" as="script"><link rel="preload" href="/assets/js/35.ae9cca52.js" as="script"><link rel="prefetch" href="/assets/js/10.a27b6e9d.js"><link rel="prefetch" href="/assets/js/11.2193e9e3.js"><link rel="prefetch" href="/assets/js/12.f39a5b44.js"><link rel="prefetch" href="/assets/js/13.2d6a44aa.js"><link rel="prefetch" href="/assets/js/14.0673e9ad.js"><link rel="prefetch" href="/assets/js/15.a5eeeada.js"><link rel="prefetch" href="/assets/js/16.33dfc880.js"><link rel="prefetch" href="/assets/js/17.c79025e1.js"><link rel="prefetch" href="/assets/js/18.959ecd03.js"><link rel="prefetch" href="/assets/js/19.9b33ed18.js"><link rel="prefetch" href="/assets/js/20.ef228a5b.js"><link rel="prefetch" href="/assets/js/21.95b935c1.js"><link rel="prefetch" href="/assets/js/22.6089ec44.js"><link rel="prefetch" href="/assets/js/23.1786dcbd.js"><link rel="prefetch" href="/assets/js/24.1cc8c701.js"><link rel="prefetch" href="/assets/js/25.bfc350ad.js"><link rel="prefetch" href="/assets/js/26.bc869606.js"><link rel="prefetch" href="/assets/js/27.2974731f.js"><link rel="prefetch" href="/assets/js/28.c59ffda1.js"><link rel="prefetch" href="/assets/js/29.a4f4f78c.js"><link rel="prefetch" href="/assets/js/3.b306ebdc.js"><link rel="prefetch" href="/assets/js/30.f86e1c24.js"><link rel="prefetch" href="/assets/js/31.3a368f51.js"><link rel="prefetch" href="/assets/js/32.ae32716d.js"><link rel="prefetch" href="/assets/js/33.04577fe2.js"><link rel="prefetch" href="/assets/js/34.0036621d.js"><link rel="prefetch" href="/assets/js/36.46328e65.js"><link rel="prefetch" href="/assets/js/37.b265ca29.js"><link rel="prefetch" href="/assets/js/38.30e09b09.js"><link rel="prefetch" href="/assets/js/39.b34ea9f8.js"><link rel="prefetch" href="/assets/js/4.1b3f0ff6.js"><link rel="prefetch" href="/assets/js/40.6ee002ae.js"><link rel="prefetch" href="/assets/js/41.fc420cf4.js"><link rel="prefetch" href="/assets/js/42.209ec249.js"><link rel="prefetch" href="/assets/js/43.2d7d1cd7.js"><link rel="prefetch" href="/assets/js/44.b9fd8430.js"><link rel="prefetch" href="/assets/js/45.15ab68bd.js"><link rel="prefetch" href="/assets/js/46.01b8ec0e.js"><link rel="prefetch" href="/assets/js/47.112cd2f4.js"><link rel="prefetch" href="/assets/js/48.867e58b9.js"><link rel="prefetch" href="/assets/js/49.3ac37d3e.js"><link rel="prefetch" href="/assets/js/5.784f0707.js"><link rel="prefetch" href="/assets/js/50.f9dae8e2.js"><link rel="prefetch" href="/assets/js/51.43768ca2.js"><link rel="prefetch" href="/assets/js/52.dde625a3.js"><link rel="prefetch" href="/assets/js/53.72d8e143.js"><link rel="prefetch" href="/assets/js/54.bc802a1c.js"><link rel="prefetch" href="/assets/js/55.e1f55ab2.js"><link rel="prefetch" href="/assets/js/56.1118b442.js"><link rel="prefetch" href="/assets/js/57.c6e74a85.js"><link rel="prefetch" href="/assets/js/58.cfab71d0.js"><link rel="prefetch" href="/assets/js/59.6fb84388.js"><link rel="prefetch" href="/assets/js/6.a94e70e9.js"><link rel="prefetch" href="/assets/js/60.f130f013.js"><link rel="prefetch" href="/assets/js/61.99515c03.js"><link rel="prefetch" href="/assets/js/62.d3e48f49.js"><link rel="prefetch" href="/assets/js/7.8a7612b0.js"><link rel="prefetch" href="/assets/js/8.82725242.js"><link rel="prefetch" href="/assets/js/9.8e900de4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f78ef515.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/LogoHB.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Liste des cours</a></li><li><a href="/general/" class="sidebar-link">Culture numérique</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/git/" class="sidebar-heading clickable"><span>Git</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/linux/" class="sidebar-link">Linux</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/php/" class="sidebar-heading clickable router-link-active open"><span>PHP</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/php/00-intro.html" aria-current="page" class="active sidebar-link">Introduction à PHP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/00-intro.html#environnement-de-travail" class="sidebar-link">Environnement de travail</a></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#un-script-php" class="sidebar-link">Un script PHP</a></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#commentaires" class="sidebar-link">Commentaires</a></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#variables" class="sidebar-link">Variables</a></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#constantes" class="sidebar-link">Constantes</a></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#types" class="sidebar-link">Types</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/00-intro.html#tableaux" class="sidebar-link">Tableaux</a></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#manipuler-les-tableaux" class="sidebar-link">Manipuler les tableaux</a></li></ul></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#tests-et-boucles" class="sidebar-link">Tests et boucles</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/00-intro.html#conditions" class="sidebar-link">Conditions</a></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#boucles" class="sidebar-link">Boucles</a></li></ul></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#procedures-et-fonctions" class="sidebar-link">Procédures et fonctions</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/00-intro.html#fonctions-anonymes" class="sidebar-link">Fonctions anonymes</a></li></ul></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#portee-des-variables" class="sidebar-link">Portée des variables</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/00-intro.html#variables-globals" class="sidebar-link">Variables $GLOBALS</a></li></ul></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#recursivite" class="sidebar-link">Récursivité</a></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#interagir-avec-l-utilisateur" class="sidebar-link">Interagir avec l'utilisateur</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/00-intro.html#des-valeurs-dans-l-url" class="sidebar-link">Des valeurs dans l'url</a></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#des-valeurs-envoyees-par-un-formulaire" class="sidebar-link">Des valeurs envoyées par un formulaire</a></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#la-session" class="sidebar-link">La session</a></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#les-cookies" class="sidebar-link">Les cookies</a></li></ul></li><li class="sidebar-sub-header"><a href="/php/00-intro.html#la-temporisation-de-sortie" class="sidebar-link">La temporisation de sortie</a></li></ul></li><li><a href="/php/01-doc.html" class="sidebar-link">PSR et PHP Doc</a></li><li><a href="/php/02-objet.html" class="sidebar-link">PHP Orienté objet</a></li><li><a href="/php/03-pdo.html" class="sidebar-link">PDO (PHP Data Object)</a></li><li><a href="/php/04-rest.html" class="sidebar-link">Webservices REST</a></li><li><a href="/php/99-exercices.html" class="sidebar-link">Exercices PHP</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/symfony/" class="sidebar-heading clickable"><span>Symfony</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/js/" class="sidebar-heading clickable"><span>Javascript</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/lamp/" class="sidebar-link">Serveur Lamp</a></li><li><a href="/deploy/" class="sidebar-link">Déploiement</a></li><li><a href="/docker/" class="sidebar-link">Docker</a></li><li><a href="/ci/" class="sidebar-link">Intégration continue</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="introduction-a-php"><a href="#introduction-a-php" class="header-anchor">#</a> Introduction à PHP</h1> <p>PHP est un langage à la fois procédural et orienté objet.
Pour l'utiliser, nous aurons besoin d'un serveur, pour interpréter notre code : il sera lu et interprété en une page HTML après exécution et renvoyé via http(s).</p> <p>PHP est principalement utilisé pour la création de sites webs, mais peut également servir pour des outils en ligne de commande.</p> <p>La <a href="https://www.php.net/manual/fr/" target="_blank" rel="noopener noreferrer">documentation de PHP, une resource essentielle<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> et disponible en français.</p> <h2 id="environnement-de-travail"><a href="#environnement-de-travail" class="header-anchor">#</a> Environnement de travail</h2> <p>Nous allons travailler avec <a href="https://sourceforge.net/projects/wampserver/files/latest/download" target="_blank" rel="noopener noreferrer">Wamp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> pour avoir un serveur Apache, MySQL, PHP et PhpMyAdmin sur notre Windows. Tout ce que nous allons voir fonctionne aussi avec <a href="https://www.apachefriends.org/fr/index.html" target="_blank" rel="noopener noreferrer">Xampp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, <a href="https://www.mamp.info/en/downloads/" target="_blank" rel="noopener noreferrer">Mamp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ou un équivalent. Pour ces deux derniers, faites bien attention à la configuration (surtout les ports) qui peuvent être différents de ceux de Wamp.</p> <p>Pour l'utiliser convenablement, nous allons devoir travailler dans le dossier <code>www</code> de Wamp (<code>C:\wamp64\www</code> par défaut). Nous y créerons différents dossiers pour qu'ils soient accessibles simplement : si nous créons un dossier <code>exercices-php</code>, son contenu sera disponible sur <a href="http://localhost/exercices-php/" target="_blank" rel="noopener noreferrer">http://localhost/exercices-php/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>Une vidéo pour vous aider à résoudre les problèmes de ports et de version des programmes (PHP et MySQL surtout) :</p> <div style="position:relative;padding-bottom:56.25%;height:0;"><iframe src="https://www.loom.com/embed/b835ff259c954b73997523c051fa1d98" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div> <h2 id="un-script-php"><a href="#un-script-php" class="header-anchor">#</a> Un script PHP</h2> <p>En vidéo :</p> <div style="position:relative;padding-bottom:56.25%;height:0;"><iframe src="https://www.loom.com/embed/2b0103e886da43269245ba58934e0065" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div> <p>Les fichiers de PHP ont l'extension <code>.php</code> et peuvent contenir du HTML aussi bien que du PHP. Un script PHP (que ce soit un fichier entier ou une portion de code) se trouve entre <code>&lt;?php</code> et <code>?&gt;</code>.</p> <p>Un exemple de Php dans un fichier HTML :</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fr<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>Un fichier d'exemple<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Affichage de la date : <span class="token prolog">&lt;?php echo date('d/m/Y H:i:s'); ?&gt;</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>Dans un fichier PHP seul :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'&lt;p&gt;'</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token function">date</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'d/m/Y H:i:s'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'&lt;/p&gt;'</span><span class="token punctuation">;</span>
</span></code></pre></div><h2 id="commentaires"><a href="#commentaires" class="header-anchor">#</a> Commentaires</h2> <p>En vidéo :</p> <div style="position:relative;padding-bottom:56.25%;height:0;"><iframe src="https://www.loom.com/embed/3250bf737da7426194f22493a53f32b4" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div> <p>Vous pouvez ajouter des éléments en commentaire : visible uniquement dans le code source, et non dans le rendu final.
L'intérêt est de donner des informations supplémentaires aux autres développeurs (ou au &quot;vous&quot; du futur) sur ce que fait le code, prévenir de certains problèmes, etc.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Une ligne de texte commenté, vous pouvez mettre n'importe quoi</span>

<span class="token comment">/*
 * Un commentaire multiligne 
 * (il DOIT commencé par /* et terminer par */</span><span class="token punctuation">)</span>
 <span class="token operator">*</span><span class="token operator">/</span>
</code></pre></div><h2 id="variables"><a href="#variables" class="header-anchor">#</a> Variables</h2> <p>La <a href="https://www.php.net/manual/fr/language.variables.php" target="_blank" rel="noopener noreferrer">documentation PHP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>En vidéo :</p> <div style="position:relative;padding-bottom:56.25%;height:0;"><iframe src="https://www.loom.com/embed/49e12ca2e66c4ac8b79f705921d35e28" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div> <p>Une variable sert à contenir une valeur. Le but de la variable est de nous permettre de manipuler cette valeur (opérations mathématiques, la transmettre plus loin dans le code, etc.)</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Ici on parle de déclaration (on définit le nom de la variable)</span>
<span class="token comment">// et d'initialisation (on lui donne une valeur de départ)</span>
<span class="token variable">$unNombre</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// On peut modifier la valeur contenue dans notre variable de différentes manières,</span>
<span class="token comment">// comme des opérations mathématiques, dont voici quelques raccourcis</span>
<span class="token variable">$unNombre</span><span class="token operator">++</span><span class="token punctuation">;</span> <span class="token comment">// $unNombre = $unNombre + 1;</span>
<span class="token variable">$unNombre</span> <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span> <span class="token comment">// $unNombre = $unNombre + 2;</span>
<span class="token variable">$unNombre</span> <span class="token operator">*=</span> <span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// $unNombre = $unNombre * 3;</span>

<span class="token variable">$unTexte</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'Un texte'</span><span class="token punctuation">;</span>

<span class="token comment">// L'opérateur . permet de concaténer 2 chaînes de caractères</span>
<span class="token variable">$unTexte</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">' de test'</span><span class="token punctuation">;</span> <span class="token comment">// $unTexte = $unTexte . ' de test';</span>
</code></pre></div><h2 id="constantes"><a href="#constantes" class="header-anchor">#</a> Constantes</h2> <p>La <a href="https://www.php.net/manual/fr/language.constants.php" target="_blank" rel="noopener noreferrer">documentation PHP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>En vidéo :</p> <div style="position:relative;padding-bottom:56.25%;height:0;"><iframe src="https://www.loom.com/embed/07b90132b4a14729b9a98c31d0d76828" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div> <p>Nous n'allons pratiquement pas nous servir de ces constantes dans ce cours, mais il est utile de savoir comment les utiliser (pour un site Wordpress, par exemple).</p> <p>Une constante est toujours écrite en screaming snake case (tout en majuscule, les mots séparés par des <code>_</code>). Comme une variable, une constante contient une valeur, mais qui <strong>ne peut pas être modifiée</strong>.</p> <p>L'intérêt est de conserver en mémoire une valeur qui peut être utilisée à plusieurs endroits dans le code (nom d'éléments par page dans des listes, un texte répété à travers le site, etc.) et que l'on veut éviter de répéter.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Déclaration et initialisation d'une constante</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;UNE_CONSTANTE&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;et sa valeur&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Utilisation de la valeur de la constante</span>
<span class="token keyword">echo</span> <span class="token constant">UNE_CONSTANTE</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="types"><a href="#types" class="header-anchor">#</a> Types</h2> <p>La <a href="https://www.php.net/manual/fr/language.types.php" target="_blank" rel="noopener noreferrer">documentation PHP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>En vidéo :</p> <div style="position:relative;padding-bottom:56.25%;height:0;"><iframe src="https://www.loom.com/embed/f9aa8834e50f41e1af97a3ab7443dffe" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div> <ul><li>integer <code>12</code> pour représenter les nombres (entiers)</li> <li>float <code>25.45</code> pour représenter les nombres à virgule</li> <li>string <code>'un texte'</code> ou <code>&quot;un texte&quot;</code> pour représenter les textes</li> <li>bool <code>true</code> ou <code>false</code> pour représenter les valeurs logiques (booléennes)</li> <li>null <code>NULL</code> ou <code>null</code> pour représenter une valeur vide</li> <li>array <code>[1, 2, 3]</code> pour représenter des ensembles de données (en Php, les données sont quelconques, elles n'ont pas besoin d'être du même type)</li> <li>Object <code>new PDO()</code> pour représenter des données plus complexes</li></ul> <h3 id="tableaux"><a href="#tableaux" class="header-anchor">#</a> Tableaux</h3> <p>La <a href="https://www.php.net/manual/fr/book.array.php" target="_blank" rel="noopener noreferrer">documentation PHP sur les tableaux<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>En PHP, les entrées des tableaux peuvent être de types différents</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$monTableau</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'2'</span><span class="token punctuation">,</span> <span class="token number">3.2</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token keyword type-declaration">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$monTableau</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'2'</span><span class="token punctuation">,</span> <span class="token number">3.2</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token keyword type-declaration">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// La syntaxe courte, à préférer</span>
</code></pre></div><p>Et il en va de même pour les clés</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$mesProduits</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token number">0</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'foo'</span><span class="token punctuation">,</span>
    <span class="token number">1</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'bonnet en coton'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'uneEntrée'</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="manipuler-les-tableaux"><a href="#manipuler-les-tableaux" class="header-anchor">#</a> Manipuler les tableaux</h3> <ul><li>Accéder à une entrée</li></ul> <p>On utilise alors l'index correspondant à la ligne qu'on veut récupérer.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$mesProduits</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token number">0</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'foo'</span><span class="token punctuation">,</span>
    <span class="token number">1</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'bonnet en coton'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'uneEntrée'</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token variable">$unProduit</span> <span class="token operator">=</span> <span class="token variable">$mesProduits</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$unAutreProduit</span> <span class="token operator">=</span> <span class="token variable">$mesProduits</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'uneEntrée'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Ajouter une entrée</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$mesProduits</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token number">0</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'foo'</span><span class="token punctuation">,</span>
    <span class="token number">1</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'bar'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'uneEntrée'</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// On peut ajouter une entrée à un index précis</span>
<span class="token variable">$mesProduits</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'un texte de test'</span><span class="token punctuation">;</span>
<span class="token comment">// ou dire à PHP de gérer l'index (ici, le texte sera ajouté à l'index 2)</span>
<span class="token variable">$mesProduits</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'un texte de test'</span><span class="token punctuation">;</span>
</code></pre></div><p>Note : le dernier exemple ci-dessus (<code>$mesProduits[] = $value</code>) est équivalent à <code>.push(value)</code> de Javascript. Un index numérique est calculé (PHP récupère le dernier index numérique, et l'incrémente pour avoir le nouvel index) et <code>$value</code> est ajouté à cet index.</p> <ul><li>Modifier une entrée</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$mesProduits</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token number">0</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'foo'</span><span class="token punctuation">,</span>
    <span class="token number">1</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'bar'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'uneEntrée'</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// On modifie l'élément à l'index 0</span>
<span class="token variable">$mesProduits</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'no more foo'</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Supprimer une entrée</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$mesProduits</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token number">0</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'foo'</span><span class="token punctuation">,</span>
    <span class="token number">1</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'bar'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'uneEntrée'</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">unset</span><span class="token punctuation">(</span><span class="token variable">$mesProduits</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Fonctions utiles</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$mesProduits</span> <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token number">0</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'foo'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'vide'</span>      <span class="token operator">=&gt;</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span>
    <span class="token number">1</span>           <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'bar'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'uneEntrée'</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// renvoie true si l'entrée existe</span>
<span class="token variable">$test</span> <span class="token operator">=</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$mesProduits</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// true</span>
<span class="token variable">$test</span> <span class="token operator">=</span> <span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$mesProduits</span><span class="token punctuation">[</span><span class="token number">666</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
 
<span class="token comment">// renvoie true si l'entrée n'est pas définie ou est une valeur vide (0, '', null, [], false, etc.)</span>
<span class="token variable">$test</span> <span class="token operator">=</span> <span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$mesProduits</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// false</span>
<span class="token variable">$test</span> <span class="token operator">=</span> <span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$mesProduits</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'vide'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>


<span class="token comment">// supprimer une entrée</span>
<span class="token keyword">unset</span><span class="token punctuation">(</span><span class="token variable">$mesProduits</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// compter le nombre d'éléments dans un tableau</span>
<span class="token variable">$compte</span> <span class="token operator">=</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$mesProduits</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div><h2 id="tests-et-boucles"><a href="#tests-et-boucles" class="header-anchor">#</a> Tests et boucles</h2> <p>La <a href="https://www.php.net/manual/fr/language.control-structures.php" target="_blank" rel="noopener noreferrer">documentation PHP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>En vidéo :</p> <div style="position:relative;padding-bottom:56.25%;height:0;"><iframe src="https://www.loom.com/embed/e378ba3c78a145f9b75d814f71eb02af" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div> <h3 id="conditions"><a href="#conditions" class="header-anchor">#</a> Conditions</h3> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$variable</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$variable</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'ok'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">elseif</span> <span class="token punctuation">(</span><span class="token variable">$variable</span> <span class="token operator">==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'ok aussi'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'pourquoi pas ?'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Equivalent à :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$variable</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token keyword">switch</span> <span class="token punctuation">(</span><span class="token variable">$variable</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">case</span> <span class="token number">0</span><span class="token punctuation">:</span>
        <span class="token keyword">echo</span> <span class="token string single-quoted-string">'ok'</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">case</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">echo</span> <span class="token string single-quoted-string">'ok aussi'</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token keyword">default</span><span class="token punctuation">:</span>
        <span class="token keyword">echo</span> <span class="token string single-quoted-string">'pourquoi pas ?'</span><span class="token punctuation">;</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Condition ternaire</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">(</span><span class="token variable">$variable</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">echo</span> <span class="token string single-quoted-string">'ok'</span> <span class="token punctuation">:</span> <span class="token keyword">echo</span> <span class="token string single-quoted-string">'pas ok'</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="operateurs-courants"><a href="#operateurs-courants" class="header-anchor">#</a> Opérateurs courants</h4> <ul><li><code>a == b</code> pour tester si les valeurs de <code>a</code> et <code>b</code> sont égales</li> <li><code>a === b</code> pour tester si les valeurs de <code>a</code> et <code>b</code> sont égales <strong>et</strong> de même type</li> <li><code>a != b</code> pour tester si les valeurs de <code>a</code> et <code>b</code> sont différentes</li> <li><code>a !== b</code> pour tester si les valeurs de <code>a</code> et <code>b</code> sont différentes <strong>ou</strong> de type différent</li> <li><code>a &gt; b</code> pour tester si la valeur de <code>a</code> est strictement supérieure à celle de <code>b</code></li> <li><code>a &gt;= b</code> pour tester si la valeur de <code>a</code> est supérieure ou égale à celle de <code>b</code></li> <li><code>a &lt; b</code> pour tester si la valeur de <code>a</code> est strictement inférieure à celle de <code>b</code></li> <li><code>a &lt;= b</code> pour tester si la valeur de <code>a</code> est inférieure ou égale à celle de <code>b</code></li> <li><code>a instanceof Object</code> pour tester si <code>a</code> est un Objet de type <code>Object</code></li></ul> <h3 id="boucles"><a href="#boucles" class="header-anchor">#</a> Boucles</h3> <h4 id="foreach"><a href="#foreach" class="header-anchor">#</a> foreach</h4> <p>Une boucle particulière, permettant de facilement parcourir un tableau (ou un objet <code>iterable</code>).</p> <div class="language-php extra-class"><pre class="language-php"><code>
<span class="token variable">$elements</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$elements</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=&gt;</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 0 : 1 pour la première itération</span>
    <span class="token comment">// 1 : 3 pour la deuxième</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">echo</span> <span class="token variable">$key</span><span class="token operator">.</span><span class="token string single-quoted-string">' : '</span><span class="token operator">.</span><span class="token variable">$value</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Pour modifier <code>$value</code> et voir ces modifications appliquer dans le tableau <code>$elements</code>, il suffit d'un passage par référence.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$elements</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$elements</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=&gt;</span> <span class="token operator">&amp;</span><span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$value</span> <span class="token operator">=</span> <span class="token variable">$value</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Ce qui est équivalent à</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$elements</span> <span class="token keyword">as</span> <span class="token variable">$key</span> <span class="token operator">=&gt;</span> <span class="token variable">$value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$elements</span><span class="token punctuation">[</span><span class="token variable">$key</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token variable">$value</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$elements</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Affichera [3, 5, 14, 44]</span>
</code></pre></div><h4 id="for-et-while"><a href="#for-et-while" class="header-anchor">#</a> for et while</h4> <p>Ces deux boucles sont assez classiques et fonctionnent comme dans beaucoup d'autres langages</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$elements</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">12</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token variable">$i</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token variable">$i</span> <span class="token operator">&lt;</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$elements</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token variable">$i</span><span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$elements</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$elements</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Affichera [3, 5, 14, 44]</span>

<span class="token variable">$j</span> <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token variable">$j</span> <span class="token operator">&lt;</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token variable">$elements</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$elements</span><span class="token punctuation">[</span><span class="token variable">$i</span><span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token variable">$j</span><span class="token operator">++</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token variable">$elements</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Affichera [5, 7, 16, 46]</span>
</code></pre></div><h2 id="procedures-et-fonctions"><a href="#procedures-et-fonctions" class="header-anchor">#</a> Procédures et fonctions</h2> <p>En vidéo :</p> <div style="position:relative;padding-bottom:56.25%;height:0;"><iframe src="https://www.loom.com/embed/238d4e8be4d741a08b5fa2fa5fdd2e70" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div> <ul><li>Fonction : fonction avec des arguments (ou non) retournant un résultat avec l'opérateur <code>return</code></li> <li>Procédure : fonction ne retournant aucun résultat</li></ul> <p>Par défaut, les paramètres n'ont pas de type (et peuvent prendre n'importe lequel sans erreur).</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// exemple de procédure</span>
<span class="token keyword">function</span> <span class="token function-definition function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string single-quoted-string">'un exemple'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// exemple de fonction</span>
<span class="token comment">// Noter que $argument a une valeur par défaut à 1</span>
<span class="token keyword">function</span> <span class="token function-definition function">doubleIt</span><span class="token punctuation">(</span><span class="token variable">$argument</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$argument</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// exemple de fonction avec typage</span>
<span class="token keyword">function</span> <span class="token function-definition function">doubleItWithTypes</span><span class="token punctuation">(</span><span class="token keyword type-hint">float</span> <span class="token variable">$argument</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">float</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$argument</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// exemple de fonction avec typage, pouvant également être null</span>
<span class="token keyword">function</span> <span class="token function-definition function">doubleItWithTypes</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token keyword type-hint">float</span> <span class="token variable">$argument</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token operator">?</span><span class="token keyword return-type">float</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$argument</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token constant">null</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token variable">$argument</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Idéalement, il est utile d'ajouter des commentaires (annotations) pour préciser des éléments supplémentaires (types des paramètres et des retours, etc.). En php, on ne peut pas (encore) donner plusieurs types à un paramètre ou un retour et on ne peut que le faire avec une annotation.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">/**
 * @param $argument int|float On précise ici que $argument peut être un entier ou un flottant
 * @return int|float On précise que la fonction retourne un entier ou un flottant
 */</span>
<span class="token keyword">function</span> <span class="token function-definition function">doubleIt</span><span class="token punctuation">(</span><span class="token variable">$argument</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$argument</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * @param int|null $argument
 * @return int
 */</span>
<span class="token keyword">function</span> <span class="token function-definition function">doubleItInt</span><span class="token punctuation">(</span><span class="token operator">?</span><span class="token keyword type-hint">int</span> <span class="token variable">$argument</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token keyword return-type">int</span>
<span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$argument</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> <span class="token variable">$argument</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Appeler des fonctions :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">function</span> <span class="token function-definition function">doubleIt</span><span class="token punctuation">(</span><span class="token variable">$argument</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$argument</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">echo</span> <span class="token function">doubleIt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Renvoie 2</span>

<span class="token keyword">echo</span> <span class="token function">doubleIt</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Renvoie 16</span>
</code></pre></div><h3 id="fonctions-anonymes"><a href="#fonctions-anonymes" class="header-anchor">#</a> Fonctions anonymes</h3> <p>Dans certains cas, vous aurez besoin des fonctions anonymes : des fonctions que vous déclarez pour l'utiliser directement.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token variable">$tab</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">357</span><span class="token punctuation">,</span> <span class="token number">68</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// ATTENTION, on passe $element par référence,</span>
<span class="token comment">// c'est-à-dire qu'on va le modifier pendant le parcours</span>
<span class="token function">array_walk</span><span class="token punctuation">(</span><span class="token variable">$tab</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// $element contient l'élément du tableau actuellement traité</span>
    <span class="token comment">// On le modifie (ce qui n'aurait pas été possible sans le passage par référence)</span>
    <span class="token variable">$element</span> <span class="token operator">*=</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>Comme toute fonction PHP, aucune valeur extérieure ne peut être appelée, mais on peut contourner ce souci grâce au mot-clé <code>use</code> !</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token variable">$tab</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">357</span><span class="token punctuation">,</span> <span class="token number">68</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Cette fois, on va multiplier chaque élément du tableau</span>
<span class="token comment">// par un nombre $nb défini en dehors de la fonction</span>
<span class="token variable">$nb</span> <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>

<span class="token comment">// On peut injecter la variable $nb dans la fonction anonyme</span>
<span class="token comment">// avec le mot-clé use</span>
<span class="token function">array_walk</span><span class="token punctuation">(</span><span class="token variable">$tab</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token operator">&amp;</span><span class="token variable">$element</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$nb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$element</span> <span class="token operator">*=</span> <span class="token variable">$nb</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><h2 id="portee-des-variables"><a href="#portee-des-variables" class="header-anchor">#</a> Portée des variables</h2> <p>En vidéo :</p> <div style="position:relative;padding-bottom:56.25%;height:0;"><iframe src="https://www.loom.com/embed/ddcfe05047c144ea8226f79568384aba" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$a</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// Disponible dans l'espace de nom par défaut, disponible partout, hors fonctions</span>

<span class="token keyword">function</span> <span class="token function-definition function">doubleIt</span><span class="token punctuation">(</span><span class="token variable">$argument</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// Ici, on ne peut pas appeler $a</span>
    <span class="token variable">$b</span> <span class="token operator">=</span> <span class="token variable">$argument</span><span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> <span class="token variable">$b</span> <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// $b et $argument ne sont disponibles que dans la fonction et n'existent pas ici</span>
</code></pre></div><p>On peut déclarer une variable comme globale, à n'importe quel endroit du code. Elle sera disponible après que le code ait été exécuté (un peu comme <code>var</code> en Javascript).</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$a</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// Disponible dans l'espace de nom par défaut, disponible partout, hors fonctions</span>

<span class="token keyword">function</span> <span class="token function-definition function">foo</span><span class="token punctuation">(</span><span class="token variable">$argument</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">global</span> <span class="token variable">$c</span><span class="token punctuation">;</span>
    <span class="token variable">$c</span> <span class="token operator">=</span> <span class="token variable">$argument</span> <span class="token operator">+</span> <span class="token number">42</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token variable">$a</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$c</span><span class="token punctuation">;</span> <span class="token comment">// affichera 43, $c est explicitement déclarée comme globale</span>
</code></pre></div><h3 id="variables-globals"><a href="#variables-globals" class="header-anchor">#</a> Variables $GLOBALS</h3> <p>Il est possible, dans une fonction, d'accéder aux variables définies globalement, mais c'est fortement déconseillé :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$a</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token variable">$b</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function-definition function">somme</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'a'</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token variable">$GLOBALS</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'b'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">echo</span> <span class="token function">somme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// affichera 3</span>
</code></pre></div><h2 id="recursivite"><a href="#recursivite" class="header-anchor">#</a> Récursivité</h2> <p>En vidéo :</p> <div style="position:relative;padding-bottom:56.25%;height:0;"><iframe src="https://www.loom.com/embed/59999a8438d04c9f909a3b2d3919eba4" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div> <p>Une fonction qui s'appelle elle-même :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">function</span> <span class="token function-definition function">recursive</span><span class="token punctuation">(</span><span class="token variable">$argument</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$current</span> <span class="token operator">=</span> <span class="token variable">$argument</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$current</span> <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$current</span> <span class="token operator">=</span> <span class="token function">recursive</span><span class="token punctuation">(</span><span class="token variable">$current</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">return</span> <span class="token variable">$current</span><span class="token punctuation">;</span> <span class="token comment">// cette fonction va invariablement finir par renvoyer,</span>
    <span class="token comment">// sauf si l'argument contient un nombre plus grand</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="interagir-avec-l-utilisateur"><a href="#interagir-avec-l-utilisateur" class="header-anchor">#</a> Interagir avec l'utilisateur</h2> <p><a href="https://www.loom.com/share/1ad7cd0531014f6b8e0b7afc4a8fd775" target="_blank" rel="noopener noreferrer">Les interactions avec les utilisateurs sont présentées dans une seconde vidéo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>GET et POST permettent de récupérer des actions de l'utilisateur ponctuellement (soumission d'un formulaire, suivi d'un lien avec des paramètres, etc.)</li> <li>Sessions et cookies, permettent de retenir des données à plus ou moins long terme
<ul><li>Les sessions durent par défaut 20 minutes ou jusqu'à la fermeture du navigateur</li> <li>Les cookies durent pour la plupart entre 1 mois et 1 an (ou n'ont pas de limite de durée)</li></ul></li></ul> <h3 id="des-valeurs-dans-l-url"><a href="#des-valeurs-dans-l-url" class="header-anchor">#</a> Des valeurs dans l'url</h3> <ul><li>Valeurs se trouvant dans l'url <code>index.php?bonnet=Classe&amp;matiere=cachemire&amp;logo=</code></li> <li>Commence par <code>?</code> et séparées par des <code>&amp;</code>, format <code>cle=valeur</code></li> <li>Vous pouvez les récupérer dans la superglobale <code>$_GET</code>:</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">echo</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'bonnet'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Classe</span>
<span class="token keyword">echo</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'matiere'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// cachemire</span>
<span class="token keyword">echo</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'logo'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// ''</span>
</code></pre></div><h3 id="des-valeurs-envoyees-par-un-formulaire"><a href="#des-valeurs-envoyees-par-un-formulaire" class="header-anchor">#</a> Des valeurs envoyées par un formulaire</h3> <ul><li>Valeurs généralement envoyées par un formulaire</li> <li>les clés du tableau correspondent à l'attribut <code>name</code> de vos champs HTML (<code>input</code>, <code>textarea</code>, <code>select</code>, etc.)</li> <li>Vous pouvez les récupérer dans la superglobale <code>$_POST</code></li></ul> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>matiere<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Matière de votre bonnet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>matiere<span class="token punctuation">&quot;</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>matiere<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cachemire<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>boutonValidation<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Valider<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">echo</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'matiere'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// cachemire</span>
<span class="token keyword">echo</span> <span class="token variable">$_POST</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'boutonValidation'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Valider</span>
</code></pre></div><h3 id="la-session"><a href="#la-session" class="header-anchor">#</a> La session</h3> <p><a href="https://www.php.net/manual/fr/book.session.php" target="_blank" rel="noopener noreferrer">La documentation PHP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>Sert à conserver des informations d'une page à l'autre, jusqu'à fermeture du navigateur (ou 1440 secondes par défaut)</li> <li>Appeler la fonction <code>session_start()</code> au début de toutes les pages pour que la session fonctionne correctement</li> <li>le contenu de la session se trouve dans la variable superglobale <code>$_SESSION</code></li> <li>On peut y ajouter/modifier/supprimer des éléments en modifiant ce tableau</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'login'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'unLogin'</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$_SESSION</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'login'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
<span class="token comment">// etc.</span>
</code></pre></div><h3 id="les-cookies"><a href="#les-cookies" class="header-anchor">#</a> Les cookies</h3> <p><a href="https://www.php.net/manual/fr/features.cookies.php" target="_blank" rel="noopener noreferrer">La documentation PHP<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li>Servent à conserver des informations sur une durée plus longue</li> <li>Peuvent être un problème de sécurité selon les informations stockées. En effet, s'ils contiennent des données sensibles, celles-ci sont stockées (par défaut) dans un fichier texte dans l'ordinateur de l'utilisateur.</li> <li>On peut créer un cookie avec la fonction <code>setCookie()</code> (<a href="https://www.php.net/manual/fr/function.setcookie.php" target="_blank" rel="noopener noreferrer">documentation<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>)</li> <li>Récupérer le ou les cookies dans la variable superglobale <code>$_COOKIE</code></li></ul> <h2 id="la-temporisation-de-sortie"><a href="#la-temporisation-de-sortie" class="header-anchor">#</a> La temporisation de sortie</h2> <p>Dans certains cas (la plupart, en fait), on veut éviter que l'affichage se fasse au fur et à mesure que le HTML est calculé.</p> <p>Ceci permet, par exemple, de rediriger l'utilisateur avec <code>header()</code>, alors que du HTML a déjà été rendu !</p> <ul><li><code>ob_start()</code> sert à démarrer la temporisation de sortie</li> <li><code>ob_end_flush()</code> retourne le contenu rendu jusque-là (il est nécessaire de l'afficher avec un <code>echo</code> ou autre fonction d'affichage)</li></ul> <div class="language-php extra-class"><pre class="language-php"><code>ob_start();
?&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Du HTML<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">// On est redirigé vers la page, malgré le HTML au-dessus.</span>
<span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Location: une-autre-page.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token function">ob_end_flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>Sans temporisation de sortie, on aurait une erreur :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Du HTML<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token comment">// On a une erreur, on ne peut pas faire une redirection après avoir affiché du HTML</span>
<span class="token function">header</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Location: une-autre-page.php'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/linux/" class="prev">
        Linux
      </a></span> <span class="next"><a href="/php/01-doc.html">
        PSR et PHP Doc
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.a0283a3d.js" defer></script><script src="/assets/js/2.2bb1f65b.js" defer></script><script src="/assets/js/35.ae9cca52.js" defer></script>
  </body>
</html>
