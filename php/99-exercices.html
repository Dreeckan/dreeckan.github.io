<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Exercices PHP</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Les formations de R√©mi Jarjat pour Human Booster">
    
    <link rel="preload" href="/assets/css/0.styles.f78ef515.css" as="style"><link rel="preload" href="/assets/js/app.a0283a3d.js" as="script"><link rel="preload" href="/assets/js/2.2bb1f65b.js" as="script"><link rel="preload" href="/assets/js/40.6ee002ae.js" as="script"><link rel="prefetch" href="/assets/js/10.a27b6e9d.js"><link rel="prefetch" href="/assets/js/11.2193e9e3.js"><link rel="prefetch" href="/assets/js/12.f39a5b44.js"><link rel="prefetch" href="/assets/js/13.2d6a44aa.js"><link rel="prefetch" href="/assets/js/14.0673e9ad.js"><link rel="prefetch" href="/assets/js/15.a5eeeada.js"><link rel="prefetch" href="/assets/js/16.33dfc880.js"><link rel="prefetch" href="/assets/js/17.c79025e1.js"><link rel="prefetch" href="/assets/js/18.959ecd03.js"><link rel="prefetch" href="/assets/js/19.9b33ed18.js"><link rel="prefetch" href="/assets/js/20.ef228a5b.js"><link rel="prefetch" href="/assets/js/21.95b935c1.js"><link rel="prefetch" href="/assets/js/22.6089ec44.js"><link rel="prefetch" href="/assets/js/23.1786dcbd.js"><link rel="prefetch" href="/assets/js/24.1cc8c701.js"><link rel="prefetch" href="/assets/js/25.bfc350ad.js"><link rel="prefetch" href="/assets/js/26.bc869606.js"><link rel="prefetch" href="/assets/js/27.2974731f.js"><link rel="prefetch" href="/assets/js/28.c59ffda1.js"><link rel="prefetch" href="/assets/js/29.a4f4f78c.js"><link rel="prefetch" href="/assets/js/3.b306ebdc.js"><link rel="prefetch" href="/assets/js/30.f86e1c24.js"><link rel="prefetch" href="/assets/js/31.3a368f51.js"><link rel="prefetch" href="/assets/js/32.ae32716d.js"><link rel="prefetch" href="/assets/js/33.04577fe2.js"><link rel="prefetch" href="/assets/js/34.0036621d.js"><link rel="prefetch" href="/assets/js/35.ae9cca52.js"><link rel="prefetch" href="/assets/js/36.46328e65.js"><link rel="prefetch" href="/assets/js/37.b265ca29.js"><link rel="prefetch" href="/assets/js/38.30e09b09.js"><link rel="prefetch" href="/assets/js/39.b34ea9f8.js"><link rel="prefetch" href="/assets/js/4.1b3f0ff6.js"><link rel="prefetch" href="/assets/js/41.fc420cf4.js"><link rel="prefetch" href="/assets/js/42.209ec249.js"><link rel="prefetch" href="/assets/js/43.2d7d1cd7.js"><link rel="prefetch" href="/assets/js/44.b9fd8430.js"><link rel="prefetch" href="/assets/js/45.15ab68bd.js"><link rel="prefetch" href="/assets/js/46.01b8ec0e.js"><link rel="prefetch" href="/assets/js/47.112cd2f4.js"><link rel="prefetch" href="/assets/js/48.867e58b9.js"><link rel="prefetch" href="/assets/js/49.3ac37d3e.js"><link rel="prefetch" href="/assets/js/5.784f0707.js"><link rel="prefetch" href="/assets/js/50.f9dae8e2.js"><link rel="prefetch" href="/assets/js/51.43768ca2.js"><link rel="prefetch" href="/assets/js/52.dde625a3.js"><link rel="prefetch" href="/assets/js/53.72d8e143.js"><link rel="prefetch" href="/assets/js/54.bc802a1c.js"><link rel="prefetch" href="/assets/js/55.e1f55ab2.js"><link rel="prefetch" href="/assets/js/56.1118b442.js"><link rel="prefetch" href="/assets/js/57.c6e74a85.js"><link rel="prefetch" href="/assets/js/58.cfab71d0.js"><link rel="prefetch" href="/assets/js/59.6fb84388.js"><link rel="prefetch" href="/assets/js/6.a94e70e9.js"><link rel="prefetch" href="/assets/js/60.f130f013.js"><link rel="prefetch" href="/assets/js/61.99515c03.js"><link rel="prefetch" href="/assets/js/62.d3e48f49.js"><link rel="prefetch" href="/assets/js/7.8a7612b0.js"><link rel="prefetch" href="/assets/js/8.82725242.js"><link rel="prefetch" href="/assets/js/9.8e900de4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.f78ef515.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/LogoHB.png" alt="" class="logo"> <!----></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Liste des cours</a></li><li><a href="/general/" class="sidebar-link">Culture num√©rique</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/git/" class="sidebar-heading clickable"><span>Git</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/linux/" class="sidebar-link">Linux</a></li><li><section class="sidebar-group collapsable depth-0"><a href="/php/" class="sidebar-heading clickable router-link-active open"><span>PHP</span> <span class="arrow down"></span></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/php/00-intro.html" class="sidebar-link">Introduction √† PHP</a></li><li><a href="/php/01-doc.html" class="sidebar-link">PSR et PHP Doc</a></li><li><a href="/php/02-objet.html" class="sidebar-link">PHP Orient√© objet</a></li><li><a href="/php/03-pdo.html" class="sidebar-link">PDO (PHP Data Object)</a></li><li><a href="/php/04-rest.html" class="sidebar-link">Webservices REST</a></li><li><a href="/php/99-exercices.html" aria-current="page" class="active sidebar-link">Exercices PHP</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_1-utilisation-des-tableaux" class="sidebar-link">1. Utilisation des tableaux</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_2-tableaux-imbriques" class="sidebar-link">2. Tableaux imbriqu√©s</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_3-conditions" class="sidebar-link">3. Conditions</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_4-fonctions" class="sidebar-link">4. Fonctions</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_5-manipulation-des-chaines-de-caractere-et-des-variables" class="sidebar-link">5. Manipulation des chaines de caract√®re et des variables</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_6-separation-des-fichiers" class="sidebar-link">6. S√©paration des fichiers</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_7-utiliser-git" class="sidebar-link">7. Utiliser git</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_8-mise-en-place-d-un-layout" class="sidebar-link">8. Mise en place d'un layout</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_9-header" class="sidebar-link">9. Header</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_10-footer" class="sidebar-link">10. Footer</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_11-creation-d-une-page-d-accueil" class="sidebar-link">11. Cr√©ation d'une page d'accueil</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_12-lier-nos-pages" class="sidebar-link">12. Lier nos pages</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_13-faire-relire-votre-code" class="sidebar-link">13. Faire relire votre code</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_14-mettre-en-place-un-menu" class="sidebar-link">14. Mettre en place un menu</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_15-creer-une-page-de-connexion" class="sidebar-link">15. Cr√©er une page de connexion</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_16-mise-en-place-de-la-session" class="sidebar-link">16. Mise en place de la session</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_17-creer-une-page-de-deconnexion" class="sidebar-link">17. Cr√©er une page de d√©connexion</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/99-exercices.html#astuces" class="sidebar-link">Astuces</a></li></ul></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_18-verification-du-mot-de-passe" class="sidebar-link">18. V√©rification du mot de passe</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_19-creer-une-pr-pull-request" class="sidebar-link">19. Cr√©er une PR (Pull Request)</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_20-creer-un-front-controller" class="sidebar-link">20. Cr√©er un front controller</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_21-ajouter-des-elements-au-panier" class="sidebar-link">21. Ajouter des √©l√©ments au panier</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_22-afficher-les-elements-du-panier" class="sidebar-link">22. Afficher les √©l√©ments du panier</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_23-creer-une-pr-pull-request" class="sidebar-link">23. Cr√©er une PR (Pull Request)</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_24-ajouter-un-formulaire-de-contact" class="sidebar-link">24. Ajouter un formulaire de contact</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_26-pull-request" class="sidebar-link">26. Pull Request</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_27-utilisation-des-objets" class="sidebar-link">27. Utilisation des objets</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_28-pull-request" class="sidebar-link">28. Pull Request</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_29-liste-et-filtres" class="sidebar-link">29. Liste et filtres</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/php/99-exercices.html#aides" class="sidebar-link">Aides</a></li></ul></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_30-retenir-les-valeurs-entrees-dans-notre-formulaire" class="sidebar-link">30. Retenir les valeurs entr√©es dans notre formulaire</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_31-pull-request" class="sidebar-link">31. Pull Request</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_32-continuer-la-conversion-en-objets" class="sidebar-link">32. Continuer la conversion en objets</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_33-pull-request" class="sidebar-link">33. Pull Request</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_34-creer-une-base-de-donnees" class="sidebar-link">34. Cr√©er une base de donn√©es</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_35-formulaire-de-contact-en-bdd" class="sidebar-link">35. Formulaire de contact, en BdD</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_36-utiliser-les-donnees-de-la-bdd" class="sidebar-link">36. Utiliser les donn√©es de la BdD</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#_37-pull-request" class="sidebar-link">37. Pull Request</a></li><li class="sidebar-sub-header"><a href="/php/99-exercices.html#revisions" class="sidebar-link">R√©visions</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/symfony/" class="sidebar-heading clickable"><span>Symfony</span> <span class="arrow right"></span></a> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><a href="/js/" class="sidebar-heading clickable"><span>Javascript</span> <span class="arrow right"></span></a> <!----></section></li><li><a href="/lamp/" class="sidebar-link">Serveur Lamp</a></li><li><a href="/deploy/" class="sidebar-link">D√©ploiement</a></li><li><a href="/docker/" class="sidebar-link">Docker</a></li><li><a href="/ci/" class="sidebar-link">Int√©gration continue</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="exercices-php"><a href="#exercices-php" class="header-anchor">#</a> Exercices PHP</h1> <p>Pr√©-requis :</p> <ul><li>avoir un environnement de travail (<a href="https://www.wampserver.com/" target="_blank" rel="noopener noreferrer">Wamp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> / <a href="https://www.apachefriends.org/fr/index.html" target="_blank" rel="noopener noreferrer">Xampp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> / <a href="https://www.mamp.info/en/downloads/" target="_blank" rel="noopener noreferrer">Mamp<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ou √©quivalent)</li> <li>avoir des bases de PHP</li></ul> <h2 id="_1-utilisation-des-tableaux"><a href="#_1-utilisation-des-tableaux" class="header-anchor">#</a> 1. Utilisation des tableaux</h2> <p>Posons des donn√©es de base et un premier HTML :</p> <ul><li>Cr√©er une page html (balise <code>&lt;html&gt;</code>, <code>&lt;body&gt;</code>) dans un fichier PHP (<code>index.php</code> par exemple)</li> <li>y cr√©er un tableau PHP contenant ces produits :
<ul><li>Bonnet en laine</li> <li>Bonnet en laine bio</li> <li>Bonnet en laine et cachemire</li> <li>Bonnet arc-en-ciel</li></ul></li> <li>afficher ces produits dans le html en utilisant une boucle (foreach conseill√©), dans une balise HTML <code>&lt;table&gt;</code></li></ul> <h2 id="_2-tableaux-imbriques"><a href="#_2-tableaux-imbriques" class="header-anchor">#</a> 2. Tableaux imbriqu√©s</h2> <p>Nous voulons maintenant un peu plus d'informations sur nos produits. Commen√ßons par un prix et une description.</p> <ul><li>Complexifions les donn√©es et transformons nos donn√©es en tableaux :
<ul><li>Bonnet en laine : 10‚Ç¨</li> <li>Bonnet en laine bio : 14‚Ç¨</li> <li>Bonnet en laine et cachemire : 20‚Ç¨</li> <li>Bonnet arc-en-ciel : 12‚Ç¨</li></ul></li> <li>Tous les produits vont √©galement avoir la m√™me description : <code>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis a leo diam. Quisque lorem orci, accumsan quis dolor sed, gravida.</code></li> <li>Mettre √† jour l'affichage en cons√©quence</li></ul> <h2 id="_3-conditions"><a href="#_3-conditions" class="header-anchor">#</a> 3. Conditions</h2> <p>On va faire ressortir visuellement les prix de nos produits, et encore plus ceux qui ne sont pas cher !</p> <ul><li>Si un prix est inf√©rieur ou √©gal √† 12‚Ç¨, afficher le prix en vert, sinon l'afficher en bleu.</li></ul> <h2 id="_4-fonctions"><a href="#_4-fonctions" class="header-anchor">#</a> 4. Fonctions</h2> <p>Une pens√©e pour les professionnels qui ont besoin de se couvrir ! Pour eux, il faudrait afficher les prix sans TVA.</p> <ul><li>Nos prix √©taient ici TTC (incluaient la TVA), nous allons faire une fonction calculant le montant hors taxes d'un produit.</li> <li>Afficher les prix HT dans la colonne avant celle des prix TTC</li></ul> <h2 id="_5-manipulation-des-chaines-de-caractere-et-des-variables"><a href="#_5-manipulation-des-chaines-de-caractere-et-des-variables" class="header-anchor">#</a> 5. Manipulation des chaines de caract√®re et des variables</h2> <ul><li>Faire une fonction qui affiche un produit (va reprendre l'affichage d'une ligne du tableau)</li> <li>Appeler cette fonction dans la boucle</li></ul> <h2 id="_6-separation-des-fichiers"><a href="#_6-separation-des-fichiers" class="header-anchor">#</a> 6. S√©paration des fichiers</h2> <p>Nous allons maintenant s√©parer notre code en plusieurs √©l√©ments, √† th√®me. L'id√©e est ici d'avoir des fichiers plus sp√©cialis√©s et rapides √† retrouver.</p> <ul><li>S√©parer le code en plusieurs fichiers php :
<ul><li>Un pour les variables</li> <li>Un autre pour les fonctions</li> <li>Un pour le HTML</li></ul></li> <li>Appeler ces fichiers dans le HTML (<a href="https://www.php.net/manual/fr/function.include.php" target="_blank" rel="noopener noreferrer">utiliser <code>include</code> pour appeler les diff√©rents fichiers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> o√π vous le souhaitez)</li></ul> <h2 id="_7-utiliser-git"><a href="#_7-utiliser-git" class="header-anchor">#</a> 7. Utiliser git</h2> <ul><li>Cr√©er un projet sur Github ou Gitlab (invitez-moi sur le projet, mon pseudo est <code>Dreeckan</code>)</li> <li>Cr√©er votre fichier <code>.gitignore</code> et y ajouter 2 lignes : <code>.idea</code> et <code>.vscode</code></li> <li>Cr√©er un premier commit, si √ßa n'est pas d√©j√† fait</li> <li>Pusher votre code sur Github ou Gitlab</li> <li>Partager le lien (en priv√© sur Discord ou en m'invitant sur le projet)</li> <li>Cr√©er une branche <code>ajout-layout</code> pour l'exercice suivant</li></ul> <h2 id="_8-mise-en-place-d-un-layout"><a href="#_8-mise-en-place-d-un-layout" class="header-anchor">#</a> 8. Mise en place d'un layout</h2> <p>Ce que j'appelle layout : nous allons d√©couper notre HTML pour en extraire les √©l√©ments communs (balises <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code>, <code>&lt;body&gt;</code>, etc.) et les mettre dans des fichiers qui vont √™tre inclus dans toutes nos pages.</p> <ul><li>Cr√©er un dossier <code>includes</code> et y ajouter les fichiers contenant les variables et les fonctions</li> <li>Dans ce dossier, y ajouter un fichier <code>header.php</code> et un fichier <code>footer.php</code></li></ul> <h2 id="_9-header"><a href="#_9-header" class="header-anchor">#</a> 9. Header</h2> <p>L'id√©e est ici de regrouper la plus grande partie du code commun, pour l'inclure dans toutes nos pages (et donc, r√©duire le nombre de fois o√π on a besoin de l'√©crire).</p> <ul><li>Dans <code>header.php</code>, d√©placer les includes des fichiers de variables et de fonctions (remplacer les includes par des <code>require_once</code> et rechercher ce que fait cette fonction)</li> <li>Ajouter le html qui va √™tre commun √† toutes nos pages (balises <code>&lt;html&gt;</code>, <code>&lt;head&gt;</code>, <code>&lt;body&gt;</code>, etc.)</li> <li>Inclure le fichier <code>header.php</code> dans la page de liste des bonnets</li></ul> <h2 id="_10-footer"><a href="#_10-footer" class="header-anchor">#</a> 10. Footer</h2> <ul><li>Dans <code>footer.php</code>, ajouter le html commun √† toutes nos pages se trouvant apr√®s le php</li> <li>Inclure ce fichier <code>footer.php</code> dans la page de liste</li></ul> <p>Si vous √™tes arriv√©s jusqu'ici, sachez qu'<a href="https://www.loom.com/embed/26cb9035fe9743bcacdb62a32fd1d6be" target="_blank" rel="noopener noreferrer">une correction vid√©o des exercices 1 √† 10 est disponible<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> :</p> <div style="position:relative;padding-bottom:56.25%;height:0;"><iframe src="https://www.loom.com/embed/26cb9035fe9743bcacdb62a32fd1d6be" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div> <h2 id="_11-creation-d-une-page-d-accueil"><a href="#_11-creation-d-une-page-d-accueil" class="header-anchor">#</a> 11. Cr√©ation d'une page d'accueil</h2> <p>L'id√©e est ici de cr√©er une seconde page <code>list.php</code> qui va contenir notre tableau pr√©c√©dent, et</p> <ul><li>Renommer le fichier contenant la liste des bonnets en <code>list.php</code> (surtout si, comme moi, vous l'avez appel√© <code>√¨ndex.php</code>). On ne change rien dans ce fichier pour le moment, nous allons cr√©er une nouvelle page d'accueil, s√©par√©e.</li> <li>Cr√©er un nouveau fichier <code>index.php</code> et y appeler nos header et footer avec <code>include</code> ou <code>include_once</code> (pour inclure les √©l√©ments communs √† toutes les pages)</li> <li>Inclure le style et le js de Bootstrap, <a href="https://getbootstrap.com/docs/5.1/getting-started/download/#cdn-via-jsdelivr/" target="_blank" rel="noopener noreferrer">disponible ici<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Inclure sur cette page une liste des 3 premiers bonnets de notre liste</li> <li>Leur trouver une image pour les rendre plus jolis (je laisse √ßa √† votre jugement üòâ) et ajouter le lien de cette image dans les donn√©es</li> <li>Utiliser <a href="https://getbootstrap.com/docs/5.1/components/card/" target="_blank" rel="noopener noreferrer">les cards de Bootstrap<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> pour les mettre en forme</li></ul> <h2 id="_12-lier-nos-pages"><a href="#_12-lier-nos-pages" class="header-anchor">#</a> 12. Lier nos pages</h2> <p>Maintenant que nous avons deux pages, nous voulons naviguer de l'une √† l'autre.</p> <ul><li>Dans la page d'accueil, sous les 3 produits, ajouter un lien vers <code>list.php</code> (<code>Voir tous les produits</code>)</li> <li>Le mettre en forme avec Bootstrap (en lui appliquant la classe des boutons par exemple)</li></ul> <h2 id="_13-faire-relire-votre-code"><a href="#_13-faire-relire-votre-code" class="header-anchor">#</a> 13. Faire relire votre code</h2> <ul><li>Cr√©er une Pull Request (ou Merge Request si vous √™tes sur Gitlab)</li> <li>Mettez-vous en groupe (si ce n'est d√©j√† fait) et invitez-vous sur vos projets respectifs</li> <li>Relisez le code des autres et faites-leur vos retours sur leur code</li></ul> <h2 id="_14-mettre-en-place-un-menu"><a href="#_14-mettre-en-place-un-menu" class="header-anchor">#</a> 14. Mettre en place un menu</h2> <p>A partir de cet exercice, nous allons commencer √† manipuler les <a href="/php/00-intro.html#interagir-avec-l-utilisateur">variables superglobales</a>. Dans un premier temps, facilitons la navigation de l'utilisateur.</p> <ul><li>Cr√©er une nouvelle branche (git) (nomm√©e par exemple <code>ajout-session</code>) et y travailler</li> <li>Ajouter un menu en haut de toutes les pages</li> <li>Mettre un lien vers la page <code>index.php</code> et un autre vers <code>list.php</code></li> <li>Le mettre en forme avec Bootstrap (composant <a href="https://getbootstrap.com/docs/5.1/components/navbar/" target="_blank" rel="noopener noreferrer">navbar<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> par exemple)</li></ul> <h2 id="_15-creer-une-page-de-connexion"><a href="#_15-creer-une-page-de-connexion" class="header-anchor">#</a> 15. Cr√©er une page de connexion</h2> <p>Cr√©ons une nouvelle page de connexion, avec un formulaire. Il s'agit maintenant de g√©rer le formulaire, en r√©cup√©rant les donn√©es <code>$_POST</code> lors de sa soumission, et nous les retiendront en session plus tard.</p> <ul><li>Cr√©er une page <code>login.php</code> (√† la racine du projet, avec les autres pages)</li> <li>Y ajouter un formulaire de connexion (un champ login, un champ password et un bouton de validation)</li> <li>Le mettre en forme avec Bootstrap</li> <li>Afficher le login de l'utilisateur dans le menu √† la soumission du formulaire</li> <li>Cette valeur (<code>$_POST['login']</code>) pouvant ne pas exister, bien s'assurer de son existence avant affichage</li></ul> <h2 id="_16-mise-en-place-de-la-session"><a href="#_16-mise-en-place-de-la-session" class="header-anchor">#</a> 16. Mise en place de la session</h2> <p>Mettons en route la session et ajoutons-y le login de l'utilisateu lors de sa connexion.</p> <ul><li>Ajouter le <code>session_start()</code> √† l'endroit ad√©quat</li> <li>Lors de la connexion de l'utilisateur, mettre son login en session</li> <li>Afficher ce login depuis la session, s'il est disponible</li></ul> <h2 id="_17-creer-une-page-de-deconnexion"><a href="#_17-creer-une-page-de-deconnexion" class="header-anchor">#</a> 17. Cr√©er une page de d√©connexion</h2> <p>Maintenant que l'on sait cr√©er la session, voyons comment la d√©truire.</p> <ul><li>Cr√©er une page <code>logout.php</code></li> <li>Cette page ne va contenir que quelques lignes</li> <li>Utiliser la fonction <code>session_destroy()</code> pour d√©truire les donn√©es en session</li> <li>une fois la fonction appel√©e (avec succ√®s üòâ ), utiliser la fonction <code>header()</code> pour rediriger vers la page <code>index.php</code> (et donc, pas besoin d'appeler quoique ce soit d'autre)</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Cette fonction a une utilisation assez particuli√®re,</span>
<span class="token comment">// Voici l'√©criture pour rediriger vers la page index.php</span>
<span class="token function">header</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Location: index.php&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="astuces"><a href="#astuces" class="header-anchor">#</a> Astuces</h3> <p>Si vous souhaitez afficher un message alors que vous avez une redirection avec <code>header()</code>, vous pouvez passer un param√®tre <code>$_GET</code> :</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token comment">// Dans logout.php :</span>
<span class="token comment">// On transmet un param√®tre GET pour noter que l'utilisateur est d√©connect√©</span>
<span class="token function">header</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;Location: index.php?disconnected=1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Dans header.php (par exemple) :</span>
<span class="token comment">// On r√©cup√®re le param√®tre, s'il existe, et on affiche un message</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'disconnected'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$_GET</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'disconnected'</span><span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token string double-quoted-string">&quot;&lt;div&gt;Vous √™tes d√©connect√©&lt;/div&gt;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>La correction en vid√©o :</p> <div style="position:relative;padding-bottom:56.25%;height:0;"><iframe src="https://www.loom.com/embed/1b7b5f3e768e4e17921ccdfdfe1bb270" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div> <h2 id="_18-verification-du-mot-de-passe"><a href="#_18-verification-du-mot-de-passe" class="header-anchor">#</a> 18. V√©rification du mot de passe</h2> <p>Validons maintenant les donn√©es entr√©es dans le formulaire, pour √™tre dans des conditions plus proches de la r√©alit√©.</p> <ul><li>Ajouter (dans <code>variables.php</code> par exemple) une valeur de mot de passe attendue (par exemple 'toto')</li> <li>Dans le formulaire de connexion, v√©rifier que le mot de passe est correct
<ul><li>Si √ßa n'est pas le cas, afficher un message d'erreur</li> <li>Si c'est le cas, afficher un message de r√©ussite et ajouter le login dans la session</li></ul></li> <li>V√©rifier √©galement que le login n'est pas vide (et afficher un message d'erreur si c'est le cas)</li> <li>Mettre en forme les messages avec Bootstrap (composant <a href="https://getbootstrap.com/docs/5.1/components/alerts/" target="_blank" rel="noopener noreferrer">alerts<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> par exemple)</li></ul> <h2 id="_19-creer-une-pr-pull-request"><a href="#_19-creer-une-pr-pull-request" class="header-anchor">#</a> 19. Cr√©er une PR (Pull Request)</h2> <ul><li>Cr√©er une Pull Request</li> <li>Invitez quelqu'un.e qui n'est pas votre voisin.e sur votre projet</li> <li>Faites vous inviter par cette personne √©galement</li> <li>Relisez le code et faites vos retours</li> <li>Approuvez (ou non) sa PR</li> <li>Une fois votre PR valid√©e par un.e pair.e, vous pouvez la fusionner (merge)</li></ul> <h2 id="_20-creer-un-front-controller"><a href="#_20-creer-un-front-controller" class="header-anchor">#</a> 20. Cr√©er un front controller</h2> <p>Le but du front controller est de r√©duire (encore) les r√©p√©titions de code, en g√©rant <strong>tous</strong> les √©l√©ments constants (inclusions, d√©marrage de session, etc.).</p> <ul><li>Nous allons maintenant utiliser notre fichier <code>index.php</code> en tant qu'unique script PHP appel√©. C'est-√†-dire que nous n'appellerons plus <code>list.php</code> (et les autres pages) directement, mais en passant par elle. (en appelant <code>index.php?page=list</code> ou <code>?page=list</code>)</li> <li>Renommer le fichier <code>index.php</code> en <code>home.php</code> et cr√©er un nouveau fichier <code>index.php</code></li> <li>Ranger les fichiers de pages qu'on a jusqu'√† pr√©sent (list, login, home, etc.) dans un dossier <code>pages</code></li> <li>Dans <code>index.php</code>, nous allons r√©cup√©rer un param√®tre <code>GET</code>, nomm√© <code>page</code>, qui contiendra la page √† charger (page d'accueil, liste des produits, panier, etc.)</li> <li>Mettre √† jour les autres pages en cons√©quence pour r√©duire autant que possible le code des pages</li> <li>Ajouter la temporisation de sortie pour permettre les √©ventuelles redirections</li></ul> <div class="language-php extra-class"><pre class="language-php"><code><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>
<span class="token function">ob_start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//</span>
<span class="token comment">// ... contenu du script ...</span>
<span class="token comment">//</span>
<span class="token keyword">echo</span> <span class="token function">ob_end_flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><h2 id="_21-ajouter-des-elements-au-panier"><a href="#_21-ajouter-des-elements-au-panier" class="header-anchor">#</a> 21. Ajouter des √©l√©ments au panier</h2> <p>Nous avons des produits, il ne nous reste plus qu'√† les acheter ! (faire semblant de les acheter, plut√¥t)</p> <ul><li>Sur la page de liste (<code>list.php</code>), ajouter un bouton &quot;Ajouter au panier&quot; (on ajoute un seul √©l√©ment √† la fois dans le panier)</li> <li>G√©rer l'ajout au panier d'un √©l√©ment (passer un identifiant (√† ajouter dans la liste des produits) qui sera r√©cup√©r√© avec <code>$_GET</code>)</li> <li>Les √©l√©ments doivent √™tre pr√©sents dans la session</li></ul> <p><strong>Exemple de format de <code>$_SESSION['cart']</code></strong></p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token punctuation">[</span>
    <span class="token number">666</span> <span class="token operator">=&gt;</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// 2 √©l√©ments avec l'id 666 sont dans le panier</span>
    <span class="token number">32</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// 1 √©l√©ment avec l'id 32 est pr√©sent dans le panier</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_22-afficher-les-elements-du-panier"><a href="#_22-afficher-les-elements-du-panier" class="header-anchor">#</a> 22. Afficher les √©l√©ments du panier</h2> <ul><li>Cr√©er une page <code>cart.php</code> (si √ßa n'est pas d√©j√† fait) dans laquelle vous allez afficher le panier</li> <li>Ajouter des boutons (liens) pour ajouter ou supprimer des √©l√©ments d√©j√† pr√©sents</li> <li>Calculer et afficher le prix pour chaque ligne (<code>$price * $quantity</code>)</li> <li>Calculer et afficher le prix total du panier</li> <li>Ajouter un bouton pour vider le panier</li> <li>Le panier doit √™tre disponible m√™me si l'utilisateur n'est pas connect√©</li></ul> <h2 id="_23-creer-une-pr-pull-request"><a href="#_23-creer-une-pr-pull-request" class="header-anchor">#</a> 23. Cr√©er une PR (Pull Request)</h2> <ul><li>Cr√©ez une Pull Request</li> <li>Invitez quelqu'un.e sur votre projet</li> <li>Faites vous inviter par cette personne √©galement</li> <li>Relisez le code et faites vos retours (v√©rifiez que le code valide bien les normes PSR-1 <strong>et</strong> PSR-12, par exemple)</li> <li>Approuvez (ou non) sa PR</li> <li>Une fois votre PR valid√©e par un.e pair.e, vous pouvez la fusionner (merge)</li></ul> <p>La correction en vid√©o :</p> <div style="position:relative;padding-bottom:56.25%;height:0;"><iframe src="https://www.loom.com/embed/99b6ad7900ab4f23b632f43af20ef8c8" frameborder="0" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen="allowfullscreen" style="position:absolute;top:0;left:0;width:100%;height:100%;"></iframe></div> <h2 id="_24-ajouter-un-formulaire-de-contact"><a href="#_24-ajouter-un-formulaire-de-contact" class="header-anchor">#</a> 24. Ajouter un formulaire de contact</h2> <ul><li>Trois champs :
<ul><li>Sujet (champ de type text)</li> <li>Email (pour recontacter la personne) (champ de type email)</li> <li>Message (champ de type textarea)</li></ul></li> <li>Contraintes (valider que les champs correspondent √† ces crit√®res, tant en html que PHP) :
<ul><li>Sujet non vide (Attention au cas <code>' '</code>)</li> <li>Email valide (non vide et de la forme <code>test@test.test</code>)</li> <li>Message non vide (Attention au cas <code>' '</code>)</li></ul></li></ul> <p><strong>Indices</strong></p> <ul><li>Il existe une fonction PHP qui va v√©rifier la validit√© d'une variable (dont un email)</li> <li>Il faut passer les donn√©es en POST dans votre formulaire</li> <li>Vous pouvez ajouter une validation au niveau du HTML, mais il faudra quand m√™me faire la validation PHP (il est facile de contourner la validation HTML)</li></ul> <h2 id="_26-pull-request"><a href="#_26-pull-request" class="header-anchor">#</a> 26. Pull Request</h2> <ul><li>Cr√©ez une Pull Request</li> <li>Invitez quelqu'un.e sur votre projet</li> <li>Faites vous inviter par cette personne √©galement</li> <li>Relisez le code et faites vos retours (v√©rifiez que le code valide bien les normes PSR-1 <strong>et</strong> PSR-12, par exemple)</li> <li>Approuvez (ou non) sa PR</li> <li>Une fois votre PR valid√©e par un.e pair.e, vous pouvez la fusionner (merge)</li></ul> <h2 id="_27-utilisation-des-objets"><a href="#_27-utilisation-des-objets" class="header-anchor">#</a> 27. Utilisation des objets</h2> <ul><li>Cr√©er une nouvelle branche git <code>utilisation-objets</code></li> <li>Cr√©ation d'une premi√®re classe <code>Beanie</code> qui va stocker nos donn√©es de bonnets</li> <li>Ajouter des constantes (tailles et mati√®res) pour d√©finir les valeurs du formulaire de tri</li> <li>D√©finir propri√©t√©s et m√©thodes</li> <li>Remplacer les tableaux dans <code>$mesProduits</code> par des objets (<code>$mesProduits</code> devient alors un tableau contenant des objets <code>Beanie</code>)</li> <li>Mettre √† jour nos diff√©rentes pages en cons√©quence</li></ul> <h2 id="_28-pull-request"><a href="#_28-pull-request" class="header-anchor">#</a> 28. Pull Request</h2> <ul><li>Cr√©ez une Pull Request</li> <li>Invitez quelqu'un.e sur votre projet</li> <li>Faites vous inviter par cette personne √©galement</li> <li>Relisez le code et faites vos retours (v√©rifiez que le code valide bien les normes PSR-12 <strong>et</strong> PSR-4, par exemple)</li> <li>Approuvez (ou non) sa PR</li> <li>Une fois votre PR valid√©e par un.e pair.e, vous pouvez la fusionner (merge)</li></ul> <h2 id="_29-liste-et-filtres"><a href="#_29-liste-et-filtres" class="header-anchor">#</a> 29. Liste et filtres</h2> <ul><li>Cr√©er une nouvelle branche git <code>ajout-filtres</code></li> <li>Sur la liste des produits <code>list.php</code>, ajouter des filtres (formulaire, avec la <code>method</code> √† <code>POST</code>) :
<ul><li>Par taille (S, M, L, XL)</li> <li>Par mati√®re (laine, soie, coton, cachemire, etc.)</li> <li>Par prix (avec un minimum et un maximum)</li></ul></li> <li>Ajouter ces √©l√©ments dans vos donn√©es
<ul><li>Un bonnet peut avoir plusieurs tailles disponibles</li> <li>peut avoir plusieurs mati√®res</li></ul></li></ul> <h3 id="aides"><a href="#aides" class="header-anchor">#</a> Aides</h3> <ul><li>On va ajouter un formulaire pour ces filtres (3 champs, dont 2 champs <code>&lt;select&gt;</code>), que l'on va ajouter avant le tableau de <code>list.php</code></li> <li>Les tailles et les mati√®res vont √™tre rang√©es dans des constantes de classe et ce sont ces constantes qu'on va appeler pour afficher le contenu de nos <code>&lt;select&gt;</code>, en appelant le tableau <code>Beanie::AVAILABLE_SIZES</code> par exemple.</li> <li>Pour filtrer les √©l√©ments de notre tableau de donn√©es, on va utiliser la fonction <code>array_filter()</code></li></ul> <h2 id="_30-retenir-les-valeurs-entrees-dans-notre-formulaire"><a href="#_30-retenir-les-valeurs-entrees-dans-notre-formulaire" class="header-anchor">#</a> 30. Retenir les valeurs entr√©es dans notre formulaire</h2> <ul><li>Dans le formulaire de filtre, quand une valeur est d√©finie (par exemple : <code>$minPrice = 5</code>), on veut qu'elle apparaisse de nouveau dans le formulaire (par d√©faut, les valeurs sont remises √† z√©ro).</li></ul> <h2 id="_31-pull-request"><a href="#_31-pull-request" class="header-anchor">#</a> 31. Pull Request</h2> <ul><li>Cr√©ez une Pull Request</li> <li>Invitez quelqu'un.e sur votre projet</li> <li>Faites vous inviter par cette personne √©galement</li> <li>Relisez le code et faites vos retours (v√©rifiez que le code valide bien les normes PSR-12 <strong>et</strong> PSR-4, par exemple)</li> <li>Approuvez (ou non) sa PR</li> <li>Une fois votre PR valid√©e par un.e pair.e, vous pouvez la fusionner (merge)</li></ul> <h2 id="_32-continuer-la-conversion-en-objets"><a href="#_32-continuer-la-conversion-en-objets" class="header-anchor">#</a> 32. Continuer la conversion en objets</h2> <ul><li>Cr√©er les classes suivantes et les utiliser dans le code existant (dans tous les cas, je vous laisse libre pour les propri√©t√©s et les m√©thodes) :
<ul><li><code>Contact</code> un objet de gestion des messages de contact (lui passer un tableau de param√®tres dans le constructeur, pour faire le lien plus rapidement entre le formulaire et l'objet)</li> <li><code>BeanieFilter</code> un objet pour le formulaire de filtres des bonnets</li> <li><code>Cart</code> un objet pour g√©rer le panier et le mettre en session</li> <li><code>Page</code> un objet pour les informations d'une page</li></ul></li> <li>Si du code est r√©p√©t√©, cr√©er un/des traits pour factoriser (les ranger dans un sous-dossier de <code>classes</code>)</li></ul> <h2 id="_33-pull-request"><a href="#_33-pull-request" class="header-anchor">#</a> 33. Pull Request</h2> <ul><li>Cr√©ez une Pull Request</li> <li>Invitez quelqu'un.e sur votre projet</li> <li>Faites vous inviter par cette personne √©galement</li> <li>Relisez le code et faites vos retours (v√©rifiez que le code valide bien les normes PSR-12 <strong>et</strong> PSR-4, par exemple)</li> <li>Approuvez (ou non) sa PR</li> <li>Une fois votre PR valid√©e par un.e pair.e, vous pouvez la fusionner (merge)</li></ul> <h2 id="_34-creer-une-base-de-donnees"><a href="#_34-creer-une-base-de-donnees" class="header-anchor">#</a> 34. Cr√©er une base de donn√©es</h2> <ul><li>Ouvrir <a href="http://localhost/phpmyadmin/" target="_blank" rel="noopener noreferrer">PhpMyAdmin<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li>Y cr√©er une base de donn√©es <code>exo_beanies</code></li> <li>Cr√©er des tables pour les objets
<ul><li><code>Contact</code> (nommer la table <code>contact</code>)</li> <li><code>Beanie</code> (nommer la table <code>beanie</code>)</li></ul></li> <li>Cr√©er un fichier de connexion √† la BdD <code>includes/config.inc.php</code> et faire en sorte d'avoir une connexion fonctionnelle dans toutes vos pages.</li> <li>Ins√©rer des donn√©es dans la table <code>beanie</code> √† l'aide de l'une des deux m√©thodes suivantes :
<ul><li>dans PhpMyAdmin, ajouter des donn√©es dans la table <code>beanie</code> (avec les valeurs de votre fichier <code>variables.php</code> par exemple)</li> <li>√©crire un script PHP <code>includes/fixtures.php</code> ins√©rant les donn√©es</li></ul></li></ul> <h2 id="_35-formulaire-de-contact-en-bdd"><a href="#_35-formulaire-de-contact-en-bdd" class="header-anchor">#</a> 35. Formulaire de contact, en BdD</h2> <ul><li>Modifier votre page de contact pour ins√©rer les donn√©es du formulaire dans la table <code>contact</code> <ul><li>N'ins√©rer les donn√©es <strong>que</strong> si aucune erreur n'est remont√©e</li></ul></li></ul> <h2 id="_36-utiliser-les-donnees-de-la-bdd"><a href="#_36-utiliser-les-donnees-de-la-bdd" class="header-anchor">#</a> 36. Utiliser les donn√©es de la BdD</h2> <ul><li>Cr√©er une classe <code>BeanieFactory</code> dans <code>classes/Factory/BeanieFactory.php</code> qui va avoir une m√©thode <code>create()</code> <ul><li>ayant pour param√®tre un tableau (une ligne r√©cup√©r√©e dans la BdD)</li> <li>renvoyant un objet <code>Beanie</code> contenant les donn√©es venues de la table</li></ul></li> <li>Modifier vos pages pour r√©cup√©rer les donn√©es depuis la table <code>beanie</code>, plut√¥t qu'une variable
<ul><li>Adapter le code des diff√©rentes pages pour utiliser la BdD plut√¥t que le tableau (fixe) qu'on utilisait jusqu'√† pr√©sent</li></ul></li></ul> <h2 id="_37-pull-request"><a href="#_37-pull-request" class="header-anchor">#</a> 37. Pull Request</h2> <ul><li>Cr√©ez une Pull Request</li> <li>Invitez quelqu'un.e sur votre projet</li> <li>Faites vous inviter par cette personne √©galement</li> <li>Relisez le code et faites vos retours (v√©rifiez que le code valide bien les normes PSR-12 <strong>et</strong> PSR-4, par exemple)</li> <li>Approuvez (ou non) sa PR</li> <li>Une fois votre PR valid√©e par un.e pair.e, vous pouvez la fusionner (merge)</li></ul> <h2 id="revisions"><a href="#revisions" class="header-anchor">#</a> R√©visions</h2> <p>Pour r√©viser tous ces points et les travailler avant de passer aux objets, vous pouvez <a href="https://github.com/Dreeckan/exercices-php/blob/main/revisions.md" target="_blank" rel="noopener noreferrer">vous entrainer avec ces exercices de r√©vision<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/php/04-rest.html" class="prev">
        Webservices REST
      </a></span> <span class="next"><a href="/symfony/01-installation.html">
        Installer Symfony et son environnement de travail
      </a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.a0283a3d.js" defer></script><script src="/assets/js/2.2bb1f65b.js" defer></script><script src="/assets/js/40.6ee002ae.js" defer></script>
  </body>
</html>
