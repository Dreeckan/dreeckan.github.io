(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{439:function(t,s,e){"use strict";e.r(s);var n=e(31),a=Object(n.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"easy-admin-bundle"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#easy-admin-bundle"}},[t._v("#")]),t._v(" Easy Admin Bundle")]),t._v(" "),e("p",[t._v("En vid√©o :")]),t._v(" "),e("div",{staticStyle:{position:"relative","padding-bottom":"56.25%",height:"0"}},[e("iframe",{staticStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},attrs:{src:"https://www.loom.com/embed/df76d7c122b1497792b6feaf82900a62",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""}})]),t._v(" "),e("p",[t._v("Le bundle "),e("a",{attrs:{href:"https://symfony.com/bundles/EasyAdminBundle/current/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("EasyAdminBundle"),e("OutboundLink")],1),t._v(" vous permet de g√©n√©rer un espace d'administration simplement √† partir de quelques fichiers (controllers). Il est tr√®s rapide √† prendre en main, tr√®s puissant et permet de cr√©er une interface tr√®s compl√®te, tout en vous permettant de la personnaliser.")]),t._v(" "),e("p",[t._v("La "),e("a",{attrs:{href:"https://symfony.com/bundles/EasyAdminBundle/current/index.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("documentation du bundle"),e("OutboundLink")],1),t._v(" d√©taille √† peu pr√®s tout et je vais vous donner ici seulement les √©l√©ments qui permettent de d√©marrer rapidement.")]),t._v(" "),e("h2",{attrs:{id:"installation-et-mise-en-place"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#installation-et-mise-en-place"}},[t._v("#")]),t._v(" Installation et mise en place")]),t._v(" "),e("p",[t._v("Dans un premier temps, installez le bundle avec :")]),t._v(" "),e("p",[e("code",[t._v("composer require easycorp/easyadmin-bundle")])]),t._v(" "),e("p",[t._v("Normalement, cela ne devrait pas cr√©er de probl√®mes üòâ . Vous pourrez alors cr√©er votre premier Dashboard (personnellement, j'en ai toujours un seul) avec :")]),t._v(" "),e("p",[e("code",[t._v("php bin/console make:admin:dashboard")])]),t._v(" "),e("p",[t._v("Personnellement, je conserve les options propos√©es (nommer le controller "),e("code",[t._v("DashboardController")]),t._v(" et les ranger dans "),e("code",[t._v("src/Controller/Admin")]),t._v("), mais c'est √† vous de voir.")]),t._v(" "),e("p",[t._v("Le fichier g√©n√©r√©, avec quelques commentaires pour expliquer les diff√©rents √©l√©ments :")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token php language-php"}},[e("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("App"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controller"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Admin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("EasyCorp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Bundle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("EasyAdminBundle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Config"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Dashboard")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("EasyCorp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Bundle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("EasyAdminBundle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Config"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("MenuItem")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("EasyCorp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Bundle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("EasyAdminBundle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controller"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("AbstractDashboardController")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("Symfony"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Component"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("HttpFoundation"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Response")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("Symfony"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Component"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Routing"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Annotation"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Route")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[t._v("DashboardController")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AbstractDashboardController")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Une route et une action, permettant d'afficher le dashboard")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// lors de l'appel de l'uri /admin")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token attribute"}},[e("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("#[")]),e("span",{pre:!0,attrs:{class:"token attribute-content"}},[e("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("Route")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'/admin'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attribute-class-name class-name"}},[t._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'admin'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])]),e("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("]")])]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("index")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name return-type"}},[t._v("Response")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// La vue de base donne un petit "tuto" sur ce que vous pouvez faire avec le dashboard')]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword static-context"}},[t._v("parent")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("index")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Diff√©rentes configurations sont possibles,")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// pour personnaliser l'interface g√©n√©rale de votre admin")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("configureDashboard")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name return-type"}},[t._v("Dashboard")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("Dashboard")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTitle")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'test'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// C'est ici que nous ajouterons des liens vers les diff√©rents CRUDs de notre admin")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Cette m√©thode g√®re les √©l√©ments √† afficher dans le menu de gauche de notre interface")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("configureMenuItems")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("iterable")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("MenuItem")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("linktoDashboard")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'Dashboard'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'fa fa-home'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// yield MenuItem::linkToCrud('Label', 'fas fa-list', Entity::class);")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),e("p",[t._v("Si vous essayez d'acc√©der √† la route "),e("code",[t._v("/admin")]),t._v(", vous devriez avoir acc√®s au dashboard de base.")]),t._v(" "),e("p",[t._v("‚ö†Ô∏è Avant d'aller plus loin, je vous conseille tr√®s fortement d'"),e("a",{attrs:{href:"https://symfony.com/doc/current/EasyAdminBundle/security.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("ajouter une contrainte pour que seuls les admins aient acc√®s au dashboard"),e("OutboundLink")],1),t._v(" (voir le fichier "),e("code",[t._v("config/packages/security.yaml")]),t._v(" par exemple)")]),t._v(" "),e("p",[t._v("Nous pouvons alors g√©n√©rer nos CRUDs avec la commande "),e("code",[t._v("php bin/console make:admin:crud")]),t._v(", puis ajouter les liens dans notre "),e("code",[t._v("DashBoardController")]),t._v(" :")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[t._v("    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("configureMenuItems")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("iterable")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("MenuItem")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("linktoDashboard")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'Dashboard'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'fa fa-home'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("MenuItem")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("linkToCrud")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'Un premier crud'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'fas fa-list'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("Entity1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("MenuItem")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("linkToCrud")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'Un second crud'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'fas fa-list'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("Entity2")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("yield")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("MenuItem")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("linkToCrud")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'Un troisi√®me crud'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'fas fa-list'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("Entity3")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("‚ö†Ô∏è Les ic√¥nes comme "),e("code",[t._v("fa fa-home")]),t._v(" ou "),e("code",[t._v("fas fa-list")]),t._v(" viennent de "),e("a",{attrs:{href:"https://fontawesome.com/v5.15/icons?d=gallery&p=2&m=free",target:"_blank",rel:"noopener noreferrer"}},[t._v("font-awesome, librairie tr√®s utilis√©e d'ic√¥nes"),e("OutboundLink")],1),t._v(" et vous pouvez bien s√ªr les remplacer par celles qui vous semblent plus pertinentes !")]),t._v(" "),e("p",[t._v("Pour personnaliser le dashboard, l'affichage des liens, etc, je vous invite √† lire "),e("a",{attrs:{href:"https://symfony.com/bundles/EasyAdminBundle/current/dashboards.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("la documentation sur le sujet"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"personnalisation-des-cruds"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#personnalisation-des-cruds"}},[t._v("#")]),t._v(" Personnalisation des CRUDs")]),t._v(" "),e("p",[t._v("Lors de la g√©n√©ration d'un CRUD, vous obtenez une classe tr√®s vide, mais suffisante pour avoir un CRUD fonctionnel :")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token php language-php"}},[e("span",{pre:!0,attrs:{class:"token delimiter important"}},[t._v("<?php")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("namespace")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("App"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controller"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Admin")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("App"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Entity"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Entity")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("use")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token package"}},[t._v("EasyCorp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Bundle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("EasyAdminBundle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("Controller"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("\\")]),t._v("AbstractCrudController")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[t._v("EntityCrudController")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("AbstractCrudController")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("getEntityFqcn")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("Entity")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])]),e("p",[t._v("Par contre, d√®s que notre projet devient un peu complexe, il devient n√©cessaire de modifier les √©l√©ments affich√©s ou modifiable dans les formulaires. Pour cela, nous allons surcharger la m√©thode "),e("code",[t._v("configureFields()")]),t._v(".")]),t._v(" "),e("p",[t._v("‚ö†Ô∏è Il faut garder en t√™te que les CRUD de EasyAdmin sont d√©compos√©s en 4 pages : "),e("code",[t._v("index")]),t._v(", "),e("code",[t._v("detail")]),t._v(", "),e("code",[t._v("edit")]),t._v(" et "),e("code",[t._v("new")]),t._v(". On peut personnaliser quels champs apparaissent sur chacune de ces pages !")]),t._v(" "),e("p",[t._v("Voici un exemple comment√© de ce que l'on peut trouver / faire :")]),t._v(" "),e("div",{staticClass:"language-php extra-class"},[e("pre",{pre:!0,attrs:{class:"language-php"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("configureFields")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[t._v("string")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[t._v("$pageName")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("iterable")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// On affiche la propri√©t√© id de notre entit√©, dans un champ IdField (sp√©cifique aux identifiants).")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("IdField")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'id'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Mais on ne permet pas de la modifier, ni l'afficher dans les formulaires.")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("hideOnForm")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// On aurait pu faire le contraire et utiliser la m√©thode.")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ->onlyOnIndex() pour ne l'afficher que sur la liste.")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Name est modifiable dans un champ textuel (widget input de type text).")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("TextField")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'name'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Description est un texte que l'on pourra mettre en forme, gr√¢ce au TextEditorField.")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Attention, la mise en forme se fait en HTML, et il faut le prendre en compte √† l'affichage.")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Nous aurions aussi pu utiliser TextareaField, pour nosu passer des outils de mise en forme.")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("TextEditorField")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'description'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// On affiche la description sur toutes les pages, sauf la liste")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("->")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("hideOnIndex")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Le BooleanField permet √©galement de changer la valeur depuis la liste.")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Si vous ne le souhaitez pas, appelez la m√©thode ->renderAsSwitch(false).")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("BooleanField")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'inMenu'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("IntegerField")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'orderBy'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Comme son nom l'indique, ce champ AssociationField permet de g√©rer l'association entre deux entit√©s.")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Dans les faits, un champ <select> sera affich√© pour choisir un ou plusieurs entit√©s √† associer.")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// Pour que ce champ fonctionne, pensez √† impl√©menter la m√©thode __toString() dans les entit√©s √† associer.")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("AssociationField")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("new")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'parent'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("Il y a, bien s√ªr, "),e("a",{attrs:{href:"https://symfony.com/bundles/EasyAdminBundle/current/crud.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("de tr√®s nombreuses autres options, pr√©sent√©es dans la documentation sur les cruds"),e("OutboundLink")],1),t._v(" ou dans "),e("a",{attrs:{href:"https://symfony.com/doc/current/EasyAdminBundle/fields.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("la documentation sur les champs"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"event-listeners"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#event-listeners"}},[t._v("#")]),t._v(" Event Listeners")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://symfony.com/doc/current/EasyAdminBundle/events.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("La documentation sur les event listeners de EasyAdminBundle"),e("OutboundLink")],1),t._v(" "),e("RouterLink",{attrs:{to:"/symfony/27-event-listeners.html"}},[t._v("La partie du cours sur les event listeners")])],1),t._v(" "),e("p",[t._v("Plusieurs √©v√©nements existent et permettent de compl√©ter le fonctionnement d'EasyAdmin. Ils permettent de d√©clencher d'autres actions avant ou apr√®s certaines actions (enregistrement d'une entit√©, suppression d'une entit√©, etc.) pour compl√©ter le fonctionnement \"simple\" du CRUD. C'est pas exemple tr√®s utile pour hasher le mot de passe d'un utilisateur avant de l'enregistrer en "),e("abbr",{attrs:{title:"Base de Donn√©es"}},[t._v("BdD")]),t._v(".")]),t._v(" "),e("p",[t._v("Les deux √©v√©nements que j'utilise le plus :")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("BeforeEntityPersistedEvent")]),t._v(" est d√©clench√© lorsqu'une entit√© est cr√©√©e et permet d'ajouter du fonctionnel "),e("strong",[t._v("avant")]),t._v(" qu'elle ne soit enregistr√©e en "),e("abbr",{attrs:{title:"Base de Donn√©es"}},[t._v("BdD")])]),t._v(" "),e("li",[e("code",[t._v("BeforeEntityUpdatedEvent")]),t._v(" est d√©clench√© lorsqu'une entit√© est mise √† jour et permet d'ajouter du fonctionnel "),e("strong",[t._v("avant")]),t._v(" qu'elle ne soit enregistr√©e en "),e("abbr",{attrs:{title:"Base de Donn√©es"}},[t._v("BdD")])])])])}),[],!1,null,null,null);s.default=a.exports}}]);