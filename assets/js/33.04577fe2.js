(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{418:function(e,t,s){"use strict";s.r(t);var a=s(31),r=Object(a.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"serveur-lamp"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#serveur-lamp"}},[e._v("#")]),e._v(" Serveur Lamp")]),e._v(" "),s("p",[e._v("Un serveur "),s("abbr",{attrs:{title:"Linux Apache MySQL Php"}},[e._v("Lamp")]),e._v(" est en r√©alit√© un ensemble de 3 programmes :")]),e._v(" "),s("ul",[s("li",[e._v("Apache")]),e._v(" "),s("li",[e._v("MySQL")]),e._v(" "),s("li",[e._v("Php")])]),e._v(" "),s("p",[e._v("Le "),s("code",[e._v("L")]),e._v(" correspond simplement √† Linux. Il y a plusieurs moyens d'installer un serveur Lamp, nous allons voir la m√©thode manuelle, qui vous servira si vous voulez mettre votre site en ligne (en production).")]),e._v(" "),s("p",[s("img",{attrs:{src:"http://www-igm.univ-mlv.fr/~dr/XPOSE2003/tomcat/images/serveurappli.jpg",alt:""}})]),e._v(" "),s("p",[e._v("Explications du sch√©ma ci-dessus ("),s("a",{attrs:{href:"http://www-igm.univ-mlv.fr/~dr/XPOSE2003/tomcat/images/serveurappli.jpg",target:"_blank",rel:"noopener noreferrer"}},[e._v("source"),s("OutboundLink")],1),e._v(") :")]),e._v(" "),s("ol",[s("li",[e._v("le navigateur envoie une requ√™te HTTP, qui arrive sur le serveur web")]),e._v(" "),s("li",[e._v("ce dernier re√ßoit la demande et fait le lien entre la requ√™te et l'un des sites configur√©s")]),e._v(" "),s("li",[e._v("il appelle alors le serveur d'applications (Java, Php, etc.) pour traiter la demande")]),e._v(" "),s("li",[e._v("le serveur d'application re√ßoit la demande et la traite (en appelant sa source de donn√©es et d'√©ventuels d'autres serveurs)")]),e._v(" "),s("li",[e._v("le serveur d'application envoie sa r√©ponse au serveur web")]),e._v(" "),s("li",[e._v("le serveur web transmet la r√©ponse au navigateur ("),s("em",[e._v("via")]),e._v(" une r√©ponse HTTP)")])]),e._v(" "),s("p",[e._v("On note ici qu'il faut bien distinguer :")]),e._v(" "),s("ul",[s("li",[e._v("le serveur (machine h√©bergeant les sites et les applications)")]),e._v(" "),s("li",[e._v("le serveur web ou serveur HTTP (comme Apache)")]),e._v(" "),s("li",[e._v("le serveur d'application (comme Php)")]),e._v(" "),s("li",[e._v("le serveur de "),s("abbr",{attrs:{title:"Base de Donn√©es"}},[e._v("BdD")])])]),e._v(" "),s("h2",{attrs:{id:"definitions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#definitions"}},[e._v("#")]),e._v(" D√©finitions")]),e._v(" "),s("p",[e._v("Les d√©finitions en vid√©o :")]),e._v(" "),s("div",{staticStyle:{position:"relative","padding-bottom":"50.46874999999999%",height:"0"}},[s("iframe",{staticStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},attrs:{src:"https://www.loom.com/embed/0210a182d2884ab1b0ba999eb6126316",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""}})]),e._v(" "),s("h3",{attrs:{id:"serveur"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#serveur"}},[e._v("#")]),e._v(" Serveur")]),e._v(" "),s("p",[e._v("Le terme serveur d√©signe le r√¥le jou√© par un appareil mat√©riel destin√© √† offrir des services √† des clients en r√©seau Internet. ("),s("a",{attrs:{href:"https://www.journaldunet.fr/web-tech/dictionnaire-du-webmastering/1203337-serveur-informatique-definition-traduction/",target:"_blank",rel:"noopener noreferrer"}},[e._v("source"),s("OutboundLink")],1),e._v(").")]),e._v(" "),s("p",[e._v("Nous allons surtout voir 3 types de serveurs : les serveurs web, de "),s("abbr",{attrs:{title:"Base de Donn√©es"}},[e._v("BdD")]),e._v(" et d'application")]),e._v(" "),s("h3",{attrs:{id:"apache"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#apache"}},[e._v("#")]),e._v(" Apache")]),e._v(" "),s("p",[e._v("Apache est un serveur web, dont le travail est d'attendre les requ√™tes (HTTP) des utilisateurs pour renvoyer une r√©ponse HTTP (en g√©n√©ral, la r√©ponse contient une page HTML). Il est l'un des plus r√©pandus, du fait de son √¢ge, de ses nombreuses fonctionnalit√©s et de sa modularit√©.")]),e._v(" "),s("p",[e._v("C'est ce serveur qui va faire le lien entre l'url demand√©e et les fichiers (scripts) √† ex√©cuter.\nApache est un outil modulaire, permettant de communiquer simplement avec diff√©rents serveurs d'application ou diff√©rents langages. Il supporte par exemple Php et permet d'appeler tr√®s simplement des scripts Php.")]),e._v(" "),s("p",[e._v("Sa conception le rend √©galement tr√®s ais√©ment configurable, permettant de s'adapter √† tous les cas. Je vous conseille de jeter un ≈ìil aux fichiers "),s("code",[e._v(".htaccess")]),e._v(" d'Apache, permettant d'appliquer une configuration sp√©cifique √† un site/dossier.")]),e._v(" "),s("h4",{attrs:{id:"alternatives"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#alternatives"}},[e._v("#")]),e._v(" Alternatives")]),e._v(" "),s("ul",[s("li",[e._v("Nginx ( ‚ù§Ô∏è )")]),e._v(" "),s("li",[e._v("Tomcat (√©galement d√©velopp√© par Apache üòâ )")])]),e._v(" "),s("h3",{attrs:{id:"mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql"}},[e._v("#")]),e._v(" MySQL")]),e._v(" "),s("p",[e._v("MySQL est un serveur de "),s("abbr",{attrs:{title:"Base de Donn√©es"}},[e._v("BdD")]),e._v(", permettant de stocker et r√©cup√©rer des donn√©es de mani√®re structur√©e, √† l'aide de requ√™tes "),s("abbr",{attrs:{title:"Structured Query Language"}},[e._v("SQL")]),e._v(".")]),e._v(" "),s("h4",{attrs:{id:"alternatives-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#alternatives-2"}},[e._v("#")]),e._v(" Alternatives")]),e._v(" "),s("ul",[s("li",[e._v("MariaDB (version libre et am√©lior√©e de MySQL)")]),e._v(" "),s("li",[e._v("PostgreSQL (libre et tr√®s (tr√®s) puissant)")]),e._v(" "),s("li",[e._v("Oracle (trop puissant et non libre)")]),e._v(" "),s("li",[e._v("De nombreux autres "),s("abbr",{attrs:{title:"Syst√®mes de Gestion de Base de Donn√©es"}},[e._v("SGBD")])])]),e._v(" "),s("h3",{attrs:{id:"php"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#php"}},[e._v("#")]),e._v(" PHP")]),e._v(" "),s("p",[e._v("Php est plusieurs choses :")]),e._v(" "),s("ul",[s("li",[e._v("un programme permettant d'interpr√©ter du Php (lorsqu'on appelle une commande comme "),s("code",[e._v("php bin/console")]),e._v(")")]),e._v(" "),s("li",[e._v("un serveur d'application (lorsqu'il est appel√© par un serveur web comme Apache ou Nginx)")])]),e._v(" "),s("p",[e._v("En g√©n√©ral, Php se comporte comme un simple interpr√©teur et est utilis√© comme tel par Apache. Lors de l'appel d'une URL, Apache fait le lien avec le fichier "),s("code",[e._v(".php")]),e._v(" √† ex√©cuter et lance la commande pour l'interpr√©ter.\nIl existe toutefois des variantes (comme PHP-fpm) permettant d'utiliser PHP en tant que serveur d'application √† part enti√®re. Php-fpm est alors appel√© sur un port pr√©cis (ou une socket) et attend qu'on lui envoie des informations (requ√™tes) pour les traiter lui-m√™me. Cette derni√®re m√©thode est en g√©n√©ral plus rapide et plus efficace.")]),e._v(" "),s("p",[e._v("Comme nous l'avons vu avec l'ex√©cutable Symfony, les derni√®res version de Php fournissent √©galement un serveur web, qui se comporte en fait comme un serveur web "),s("strong",[e._v("et")]),e._v(" un serveur d'application. Je vous invite √† lire "),s("a",{attrs:{href:"https://www.php.net/manual/fr/features.commandline.webserver.php",target:"_blank",rel:"noopener noreferrer"}},[e._v("la documentation sur le serveur web interne de Php"),s("OutboundLink")],1),e._v(", en vous rappelant que √ßa n'est pas viable pour un environnement de production üòâ .")]),e._v(" "),s("h4",{attrs:{id:"les-extensions-php"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#les-extensions-php"}},[e._v("#")]),e._v(" Les extensions Php")]),e._v(" "),s("p",[e._v("Certaines fonctionnalit√©s n√©cessitent d'ajouter ce que l'on appelle des extensions : des librairies li√©es √† Php, non inclues par d√©faut dans PHP. Pour les installer, cela d√©pend de votre syst√®me :")]),e._v(" "),s("ul",[s("li",[e._v("Sur Debian, vous pouvez les installer avec "),s("code",[e._v("apt")]),e._v(" ou "),s("code",[e._v("pecl")])]),e._v(" "),s("li",[e._v("Sur Windows, vous pouvez les installer en t√©l√©chargeant les fichiers "),s("code",[e._v(".dll")]),e._v(" ou avec "),s("code",[e._v("pecl")])])]),e._v(" "),s("h2",{attrs:{id:"installation-et-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#installation-et-configuration"}},[e._v("#")]),e._v(" Installation et configuration")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://e-vinrude.drakolab.fr/cookbooks/debianServerInstall.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("La documentation d'installation d'un serveur Debian chez Drakona"),s("OutboundLink")],1)]),e._v(" "),s("div",{staticStyle:{position:"relative","padding-bottom":"56.25%",height:"0"}},[s("iframe",{staticStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},attrs:{src:"https://www.loom.com/embed/a3bd18f2737b4c98b9fd93b72d055c42",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""}})]),e._v(" "),s("p",[e._v("Tout ce qui suit concerne l'installation d'un serveur LAMP sur une machine Linux (Debian ou bas√©e sur Debian). Pour l'installation sur une machine Windows, voir "),s("RouterLink",{attrs:{to:"/php/00-intro.html#environnement-de-travail"}},[e._v("l'installation de Wamp dans le cours sur PHP")]),e._v(".")],1),e._v(" "),s("h3",{attrs:{id:"apache-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#apache-2"}},[e._v("#")]),e._v(" Apache")]),e._v(" "),s("p",[e._v("La premi√®re chose √† faire est d'installer Apache. Sur un serveur Debian, on va utiliser la commande :")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" apache2 apache2-utils\n")])])]),s("p",[e._v("Pour le configurer, on va cr√©er la configuration d'un site dans le dossier "),s("code",[e._v("/etc/apache2/sites-available/")]),e._v(". Le dossier "),s("code",[e._v("/etc")]),e._v(" √©tant en dehors de notre dossier personnel, nous n'avons pas les droits par d√©faut, et il nous faut utiliser les droits de super utilisateur. Cr√©ons par exemple un fichier de configuration pour un site "),s("code",[e._v("www.example.test")]),e._v(" :")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("nano")]),e._v(" /etc/apache2/sites-available/example.test.conf\n")])])]),s("p",[e._v("Personnellement, je nomme mes configurations en fonction du nom de domaine du site. Il n'y a aucune obligation et le nommage est plut√¥t libre (le "),s("code",[e._v(".conf")]),e._v(" n'est pas vraiment optionnel, par contre üòâ ).")]),e._v(" "),s("p",[e._v("√Ä l'int√©rieur, j'y indique le nom du site et un ou des alias, et le chemin vers mes fichiers :")]),e._v(" "),s("div",{staticClass:"language-apacheconf extra-class"},[s("pre",{pre:!0,attrs:{class:"language-apacheconf"}},[s("code",[s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("VirtualHost")]),s("span",{pre:!0,attrs:{class:"token directive-block-parameter attr-value"}},[e._v(" *"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v("80")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# On indique l'admin √† contacter en cas de soucis (optionnel)")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive-inline property"}},[e._v("ServerAdmin")]),e._v(" contact@example.test\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Le chemin o√π se trouvent les fichiers visibles du site")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive-inline property"}},[e._v("DocumentRoot")]),e._v(" /var/www/test/public\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Le nom de domaine attendu par d√©faut")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive-inline property"}},[e._v("ServerName")]),e._v(" www.example.test\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Un second nom de domaine (ou plus) pouvant donner sur ce site (optionnel)")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive-inline property"}},[e._v("ServerAlias")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token directive-inline property"}},[e._v("example")]),e._v(".test\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# On d√©finit des options et des droits sur le dossier du site")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("Directory")]),s("span",{pre:!0,attrs:{class:"token directive-block-parameter attr-value"}},[e._v(" /var/www/test/public/")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# -Indexes : on n'affiche pas le contenu du dossier si aucun fichier d'index n'est trouv√©")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# +FollowSymLinks : Si un fichier ou un dossier est un lien symbolique, on le suit")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token directive-inline property"}},[e._v("Options")]),e._v(" -Indexes +FollowSymLinks\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# On permet √† un fichier .htaccess de surcharger la configuration")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token directive-inline property"}},[e._v("Allowoverride")]),e._v(" ALL\n        \n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Les deux balises suivantes d√©finissent des droits sur le dossier")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# selon si le module mod_authz_core.c existe ou non sur ce syst√®me")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Dans les deux cas, on accorde toujours le droit de lecture sur les fichiers")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("IfModule")]),s("span",{pre:!0,attrs:{class:"token directive-block-parameter attr-value"}},[e._v(" mod_authz_core.c")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Apache 2.4")]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive-inline property"}},[e._v("Require")]),e._v(" all granted\n        "),s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("IfModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("<")]),e._v("IfModule")]),s("span",{pre:!0,attrs:{class:"token directive-block-parameter attr-value"}},[e._v(" !mod_authz_core.c")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Apache 2.2")]),e._v("\n            "),s("span",{pre:!0,attrs:{class:"token directive-inline property"}},[e._v("Order")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token directive-inline property"}},[e._v("deny")]),e._v(",allow\n            "),s("span",{pre:!0,attrs:{class:"token directive-inline property"}},[e._v("Allow")]),e._v(" from all\n        "),s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("IfModule")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("Directory")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# On r√©cup√®re les logs d'acc√®s dans le premier fichier")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive-inline property"}},[e._v("CustomLog")]),e._v(" /var/log/apache2/example.test.log vhost_combined\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Et les logs d'erreur dans le second")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token directive-inline property"}},[e._v("ErrorLog")]),e._v(" /var/log/apache2/example.test.errors.log\n"),s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token directive-block tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("</")]),e._v("VirtualHost")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(">")])]),e._v("\n")])])]),s("p",[e._v("Une fois votre fichier de configuration pr√™t, vous pouvez l'activer "),s("strong",[e._v("et rendre le site disponible")]),e._v(" avec la commande :")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" ad2ensite example.test.conf\n"),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("service")]),e._v(" apache2 restart\n")])])]),s("p",[e._v("Votre fichier de configuration est alors li√© dans le dossier "),s("code",[e._v("/etc/apache2/sites-enabled/")]),e._v(" et devient donc disponible d√®s le red√©marrage d'apache.")]),e._v(" "),s("h3",{attrs:{id:"mysql-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql-2"}},[e._v("#")]),e._v(" MySQL")]),e._v(" "),s("p",[e._v("Pour installer MySQL, on va installer le serveur et le client :")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" mysql-client mysql-server\n")])])]),s("p",[e._v("Une fois le serveur install√©, vous allez devoir le configurer ! Normalement, vous aurez quelques √©l√©ments d'installation propos√©s (version de MySQL principalement). Je vous laisse juge des versions dont vous avez besoin.")]),e._v(" "),s("p",[e._v("Une fois MySQL install√©, on peut d√©finir un mot de passe d'administrateur (root) avec la commande :")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" mysql_secure_installation\n")])])]),s("p",[e._v("Une s√©rie de questions va alors vous √™tre pos√©es et il peut √™tre utile de dire oui √† la plupart (je vous invite √† regarder la vid√©o d'installation pour plus de d√©tails).")]),e._v(" "),s("p",[e._v("En g√©n√©ral, il vaut mieux "),s("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-create-a-new-user-and-grant-permissions-in-mysql",target:"_blank",rel:"noopener noreferrer"}},[e._v("cr√©er un utilisateur et lui donner des droits"),s("OutboundLink")],1),e._v(" pour mettre √† jour une BdD pr√©cise, sans avoir acc√®s aux autres. Ainsi, si le mot de passe d'une de vos bases est compromis, les autres restent isol√©es. Dans un premier temps, se connecter √† la console MySQL :")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" mysql -uroot -p\n")])])]),s("p",[e._v("Puis entrer les commandes suivantes (√† adapter selon vos √©l√©ments √† vous) :")]),e._v(" "),s("div",{staticClass:"language-sql extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sql"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("CREATE")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("USER")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'votreUtilisateur'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@'localhost'")]),e._v(" IDENTIFIED "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("BY")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'motDePasse'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("GRANT")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("ALL")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("PRIVILEGES")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("ON")]),e._v(" uneBdD "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(".")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("*")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("TO")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[e._v("'votreUtilisateur'")]),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("@'localhost'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\nFLUSH "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("PRIVILEGES")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n")])])]),s("p",[e._v("Pour plus de d√©tails, je vous conseille la lecture de "),s("a",{attrs:{href:"https://www.digitalocean.com/community/tutorials/how-to-create-a-new-user-and-grant-permissions-in-mysql",target:"_blank",rel:"noopener noreferrer"}},[e._v("cet article d√©taillant la cr√©ation d'un utilisateur et la gestion des droits"),s("OutboundLink")],1),e._v(".")]),e._v(" "),s("p",[e._v("Votre serveur MySQL devrait √™tre pr√™t √† l'utilisation üòâ .")]),e._v(" "),s("h3",{attrs:{id:"php-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#php-2"}},[e._v("#")]),e._v(" PHP")]),e._v(" "),s("p",[e._v("Installer Php implique d'installer php et les extensions dont vous avez besoin (ce qui n'est pas toujours simple √† d√©terminer). La commande d'installation suivante installe Php 7.4 et les extensions n√©cessaires √† Symfony (plus quelques optionnelles) :")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt")]),e._v(" update "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("apt")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" php-pear php7.4 php7.4-"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("cli,common,curl,dev,fpm,gd,intl,json,mbstring,mysql,readline,xml,zip"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("p",[s("code",[e._v("php7.4-{cli,common}")]),e._v(" est √©quivalent √† "),s("code",[e._v("php7.4-cli php7.4-common")])]),e._v(" "),s("p",[e._v("Installer Composer :")]),e._v(" "),s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[e._v("curl")]),e._v(" -sS https://getcomposer.org/installer -o composer-setup.php "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("sudo")]),e._v(" php composer-setup.php --install-dir"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("/usr/local/bin --filename"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("composer "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("&&")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("rm")]),e._v(" -rf composer-setup.php\n")])])]),s("h2",{attrs:{id:"mise-en-ligne-d-un-projet"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mise-en-ligne-d-un-projet"}},[e._v("#")]),e._v(" Mise en ligne d'un projet")]),e._v(" "),s("p",[e._v("Voir "),s("RouterLink",{attrs:{to:"/deploy/"}},[e._v("cours de d√©ploiement")]),e._v(".")],1)])}),[],!1,null,null,null);t.default=r.exports}}]);