(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{422:function(e,r,t){"use strict";t.r(r);var s=t(31),n=Object(s.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"webservices-rest"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#webservices-rest"}},[e._v("#")]),e._v(" Webservices REST")]),e._v(" "),t("ul",[t("li",[e._v("Une architecture / socle commun")]),e._v(" "),t("li",[e._v("Un client")]),e._v(" "),t("li",[e._v("Un webservice REST")])]),e._v(" "),t("h2",{attrs:{id:"bon-a-savoir-avant-de-commencer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#bon-a-savoir-avant-de-commencer"}},[e._v("#")]),e._v(" Bon à savoir avant de commencer")]),e._v(" "),t("ul",[t("li",[e._v("Un "),t("a",{attrs:{href:"https://openclassrooms.com/fr/courses/6573181-adoptez-les-api-rest-pour-vos-projets-web",target:"_blank",rel:"noopener noreferrer"}},[e._v("très bon tuto sur OpenClassroom"),t("OutboundLink")],1)]),e._v(" "),t("li",[e._v("XML")]),e._v(" "),t("li",[e._v("JSON")]),e._v(" "),t("li",[e._v("HTTP, les "),t("a",{attrs:{href:"https://restfulapi.net/http-status-codes/",target:"_blank",rel:"noopener noreferrer"}},[e._v('"status codes"'),t("OutboundLink")],1)])]),e._v(" "),t("h2",{attrs:{id:"definition-de-rest"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#definition-de-rest"}},[e._v("#")]),e._v(" Définition de REST")]),e._v(" "),t("ul",[t("li",[e._v("Un système pour cadrer les échanges entre plusieurs programmes / applications")]),e._v(" "),t("li",[e._v("6 grands principes à respecter\n"),t("ul",[t("li",[e._v("Client-serveur")]),e._v(" "),t("li",[e._v("Sans état")]),e._v(" "),t("li",[e._v("En couche")]),e._v(" "),t("li",[e._v("Utilisation du cache")]),e._v(" "),t("li",[e._v("Interface uniforme")]),e._v(" "),t("li",[e._v("Code à la demande (optionnel)")])])])]),e._v(" "),t("h3",{attrs:{id:"client-serveur"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#client-serveur"}},[e._v("#")]),e._v(" Client-serveur")]),e._v(" "),t("ul",[t("li",[e._v("Un ou des clients pour "),t("strong",[e._v("consommer")]),e._v(" les données")]),e._v(" "),t("li",[e._v("Un serveur (qui peut en cacher plusieurs) pour "),t("strong",[e._v("stocker")]),e._v(" les données et "),t("strong",[e._v("traiter")]),e._v(" les requêtes")])]),e._v(" "),t("h3",{attrs:{id:"sans-etat"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sans-etat"}},[e._v("#")]),e._v(" Sans état")]),e._v(" "),t("p",[e._v("Le serveur ne gère pas la session, le client doit envoyer les informations de connexion à "),t("em",[e._v("chaque requête")]),e._v(" (on parle souvent de token et/ou de clé API)")]),e._v(" "),t("h3",{attrs:{id:"en-couche"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#en-couche"}},[e._v("#")]),e._v(" En couche")]),e._v(" "),t("p",[e._v("Le client ne peut savoir s'il est connecté au serveur final ou à un intermédiaire (pour répartir la charge, par exemple)")]),e._v(" "),t("h3",{attrs:{id:"utilisation-du-cache"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#utilisation-du-cache"}},[e._v("#")]),e._v(" Utilisation du cache")]),e._v(" "),t("p",[e._v("Clients comme serveurs peuvent mettre en cache les réponses, afin de réduire la quantité de requêtes, améliorer la sécurité (moins d'informations qui transitent, par exemple)")]),e._v(" "),t("h3",{attrs:{id:"interface-uniforme"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#interface-uniforme"}},[e._v("#")]),e._v(" Interface uniforme")]),e._v(" "),t("ul",[t("li",[e._v("Identification des resources dans les requêtes (on ne récupère/modifie qu'un objet par requête)")]),e._v(" "),t("li",[e._v("Une documentation complète pour chaque url (la resource envoyée ne représente pas forcément directement la donnée stockée)")]),e._v(" "),t("li",[e._v("Messages auto-descriptifs (l'information fournie donne toutes les informations nécessaires à l'interprétation de la donnée)")]),e._v(" "),t("li",[e._v("Des liens pour accéder aux autres représentations et découvrir les autres url")])]),e._v(" "),t("h2",{attrs:{id:"creer-un-client-rest"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#creer-un-client-rest"}},[e._v("#")]),e._v(" Créer un client REST")]),e._v(" "),t("ul",[t("li",[e._v("Pouvoir utiliser les différentes méthodes (verbes) HTTP (GET, POST, PUT, PATCH, DELETE)")]),e._v(" "),t("li",[e._v("Gérer les erreurs et les changements")]),e._v(" "),t("li",[e._v("Utilisation de cUrl")]),e._v(" "),t("li",[e._v("Guzzle, "),t("a",{attrs:{href:"https://symfony.com/doc/current/http_client.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Symfony HTTP Client"),t("OutboundLink")],1)])]),e._v(" "),t("h3",{attrs:{id:"le-cas-ajax"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#le-cas-ajax"}},[e._v("#")]),e._v(" Le cas AJAX")]),e._v(" "),t("ul",[t("li",[e._v("Des requêtes depuis le javascript")]),e._v(" "),t("li",[e._v("Pour récupérer du contenu (HTML, JSON, XML, etc.)")]),e._v(" "),t("li",[e._v("Et l'utiliser à nouveau dans le javascript")])]),e._v(" "),t("h2",{attrs:{id:"un-service-serveur-rest"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#un-service-serveur-rest"}},[e._v("#")]),e._v(" Un service (serveur) REST")]),e._v(" "),t("ul",[t("li",[e._v("Accepter des requêtes (et donc un ensemble d'urls à définir)")]),e._v(" "),t("li",[e._v("Une documentation (le plus "),t("a",{attrs:{href:"https://symfony.com/doc/current/bundles/NelmioApiDocBundle/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("souvent générée automatiquement"),t("OutboundLink")],1),e._v(" grâce aux annotations)")]),e._v(" "),t("li",[e._v("Faire les traitements et envoyer une réponse cohérente (renvoyer l'objet inséré, s'assurer d'avoir des liens internes cohérents, etc.)")]),e._v(" "),t("li",[e._v("Sécuriser les transactions (gérer l'identification et les accès)")])]),e._v(" "),t("h3",{attrs:{id:"aller-un-peu-plus-loin"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#aller-un-peu-plus-loin"}},[e._v("#")]),e._v(" Aller un peu plus loin")]),e._v(" "),t("ul",[t("li",[e._v("Mashup, une API pour en cacher plusieurs")]),e._v(" "),t("li",[e._v("Des outils pour faciliter la création d'API REST ("),t("a",{attrs:{href:"https://openclassrooms.com/fr/courses/4087036-construisez-une-api-rest-avec-symfony",target:"_blank",rel:"noopener noreferrer"}},[e._v("des tutos avec Symfony"),t("OutboundLink")],1),e._v(", des "),t("a",{attrs:{href:"https://api-platform.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("outils surpuissants"),t("OutboundLink")],1),e._v(" ou "),t("a",{attrs:{href:"https://github.com/FriendsOfSymfony/FOSRestBundle",target:"_blank",rel:"noopener noreferrer"}},[e._v("faciles à intégrer dans Symfony"),t("OutboundLink")],1),e._v(")")]),e._v(" "),t("li",[e._v("Des outils de test : via navigateur, "),t("a",{attrs:{href:"https://www.postman.com/downloads/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Postman"),t("OutboundLink")],1),e._v(" ou PhpUnit (entre autre)")])])])}),[],!1,null,null,null);r.default=n.exports}}]);