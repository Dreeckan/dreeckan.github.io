(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{429:function(e,t,s){"use strict";s.r(t);var n=s(31),a=Object(n.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"le-routing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#le-routing"}},[e._v("#")]),e._v(" Le routing")]),e._v(" "),s("div",{staticStyle:{position:"relative","padding-bottom":"56.25%",height:"0"}},[s("iframe",{staticStyle:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%"},attrs:{src:"https://www.loom.com/embed/12a92f13e0354bfcbfc291f50222ca51",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""}})]),e._v(" "),s("h2",{attrs:{id:"de-l-url-du-navigateur"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#de-l-url-du-navigateur"}},[e._v("#")]),e._v(" De l'URL du navigateur")]),e._v(" "),s("p",[e._v("Lors de l'appel d'une URL par le navigateur ("),s("code",[e._v("https://formation-hb.drakolab.fr/php")]),e._v(" par exemple), le serveur (Nginx ou Apache, la plupart du temps) va transmettre la requête ("),s("code",[e._v("/php")]),e._v(") au fichier "),s("code",[e._v("public/index.php")]),e._v(". Symfony va alors appeler différents éléments pour traiter la requête :")]),e._v(" "),s("ul",[s("li",[e._v("Le router, qui va faire le lien entre "),s("code",[e._v("/php")]),e._v(" et un controller, grâce aux routes définies (si aucune route ne correspond, une erreur 404 est renvoyée)")]),e._v(" "),s("li",[e._v("Une fois ce lien fait, Symfony sait quelle action utiliser (méthode d'un controller situé dans "),s("code",[e._v("src/Controller")]),e._v(") et va l'appeler")]),e._v(" "),s("li",[e._v("L'action va faire ses traitements (appels à la BdD, calculs divers, etc.) et, pour rendre une page HTML, va en général appeler le moteur de rendu (Twig)")]),e._v(" "),s("li",[e._v("Twig prend le fichier "),s("code",[e._v(".twig")]),e._v(" ("),s("code",[e._v(".html.twig")]),e._v(" s'il doit être transformé en html, par exemple) demandé et le compile avec les données reçues. Twig renvoie alors ce html au controller")]),e._v(" "),s("li",[e._v("Le controller ajoute le rendu dans un objet "),s("code",[e._v("Response")]),e._v(", qu'il va renvoyer.")]),e._v(" "),s("li",[e._v("Symfony se charge alors d'envoyer cette "),s("code",[e._v("Response")]),e._v(" au serveur (Nginx ou Apache, la plupart du temps)")]),e._v(" "),s("li",[e._v("Le serveur transmet au navigateur")]),e._v(" "),s("li",[e._v("Le navigateur affiche le résultat (j'omets ici volontairement pas mal d'aller-retours, seuls nous intéressent les mécaniques de Symfony)")])]),e._v(" "),s("h2",{attrs:{id:"les-routes-de-symfony"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#les-routes-de-symfony"}},[e._v("#")]),e._v(" Les routes de Symfony")]),e._v(" "),s("p",[e._v("La "),s("a",{attrs:{href:"https://symfony.com/doc/current/routing.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("documentation officielle sur le Routing"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("Le but de ce routing : faire le lien entre une URL et une action de controller. Il nous permet également d'avoir des URLs très propres, comme "),s("code",[e._v("/lire/article/debuter-avec-symfony")]),e._v(" plutôt que "),s("code",[e._v("index.php?article_id=42")]),e._v(".")]),e._v(" "),s("p",[e._v("Nous allons utiliser les annotations pour définir nos routes directement dans nos controllers. Cela correspond à une "),s("a",{attrs:{href:"https://symfony.com/doc/current/best_practices.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("bonne pratique de Symfony"),s("OutboundLink")],1),e._v(". Avec une installation complète de Symfony (grâce à la commande "),s("code",[e._v("symfony new --full my_project")]),e._v("), nous pouvons utiliser directement les annotations pour définir\nnos routes dans nos controllers. Sans cela, nous aurions dû ajouter le module d'annotations dans le projet "),s("code",[e._v("composer require doctrine/annotations")]),e._v(".")]),e._v(" "),s("p",[e._v("Un exemple de déclaration de route (sous forme d'annotation) :")]),e._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// src/Controller/BlogController.php")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("namespace")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[e._v("App"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Controller")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("use")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[e._v("Symfony"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Bundle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("FrameworkBundle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Controller"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("AbstractController")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("use")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[e._v("Symfony"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Routing"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Annotation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Route")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[e._v("BlogController")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("extends")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("AbstractController")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n    \n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v('/**\n     * Ici, on peut s\'assurer que le paramètre page est un entier (l\'expression régulière \\d+ fait cette vérification)\n     * \n     * @Route("/blog/{page}", name="blog_list", requirements={"page"="\\d+"})\n     */')]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[e._v("list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[e._v("int")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$page")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name return-type"}},[e._v("Response")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v('/**\n     * @Route("/blog/{slug}", name="blog_show")\n     */')]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[e._v("show")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[e._v("string")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$slug")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name return-type"}},[e._v("Response")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// $slug va prendre la valeur déclarée dans l'url ({slug})")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// Autrement dit, si l'uri est /blog/un-article, alors $slug='un-article'")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("h3",{attrs:{id:"prefixes-et-parametres-globaux-a-un-controller"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#prefixes-et-parametres-globaux-a-un-controller"}},[e._v("#")]),e._v(" Préfixes et paramètres globaux à un controller")]),e._v(" "),s("p",[e._v("Un autre élément important : les préfixes. Le code suivant permet que :")]),e._v(" "),s("ul",[s("li",[e._v("toutes les routes d'un controller commencent par exemple par "),s("code",[e._v("blog")]),e._v(", vous pouvez faire ceci :")]),e._v(" "),s("li",[e._v("toutes les routes portent un nom commençant par "),s("code",[e._v("blog_")])]),e._v(" "),s("li",[e._v("toutes les routes contiennent un paramètre "),s("code",[e._v("_locale")]),e._v(" et qu'il ne puisse prendre que certaines valeurs précises ("),s("code",[e._v("en")]),e._v(", "),s("code",[e._v("es")]),e._v(" ou "),s("code",[e._v("fr")]),e._v(")")])]),e._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// src/Controller/BlogController.php")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("namespace")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[e._v("App"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Controller")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("use")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[e._v("Symfony"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Bundle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("FrameworkBundle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Controller"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("AbstractController")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("use")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[e._v("Symfony"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("HttpFoundation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Response")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("use")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[e._v("Symfony"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Routing"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Annotation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Route")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v('/**\n * Toutes les URi liées aux routes de ce controller commencent par /blog\n * Les noms de toutes les routes commencent par blog_ (on a donc blog_list et blog_show ici)\n * On force tous les paramètres _locale des différentes actions à 3 valeurs possibles : en, es ou fr\n * \n * @Route("/blog", requirements={"_locale": "en|es|fr"}, name="blog_")\n */')]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[e._v("BlogController")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("extends")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("AbstractController")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v('/**\n     * @Route("/{_locale}", name="list")\n     */')]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[e._v("list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name return-type"}},[e._v("Response")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v('/**\n     * @Route("/{_locale}/posts/{slug}", name="show")\n     */')]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[e._v("show")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[e._v("string")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$slug")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name return-type"}},[e._v("Response")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("p",[e._v("Vous noterez ici que la variable "),s("code",[e._v("_locale")]),e._v(" n'apparait pas dans les paramètres de l'action (méthode de controller). Il existe plusieurs paramètres gérés directement par Symfony. Le paramètre "),s("code",[e._v("_locale")]),e._v(" permet par exemple de gérer les traductions directement avec l'URL")]),e._v(" "),s("h3",{attrs:{id:"les-sous-domaines"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#les-sous-domaines"}},[e._v("#")]),e._v(" Les sous-domaines")]),e._v(" "),s("p",[e._v("Disons que notre blog, qui sera disponible sur le site "),s("code",[e._v("example.com")]),e._v(" se trouve plus exactement sur "),s("code",[e._v("blog.example.com")]),e._v(". Nous ne sommes pas obligés de créer 2 sites différents pour "),s("code",[e._v("blog.example.com")]),e._v(" ou "),s("code",[e._v("www.example.com")]),e._v(", mais pouvons dire que toutes les routes de notre BlogController doivent être appelées avec le sous-domaine "),s("code",[e._v("blog")]),e._v(" :")]),e._v(" "),s("div",{staticClass:"language-php extra-class"},[s("pre",{pre:!0,attrs:{class:"language-php"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// src/Controller/BlogController.php")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("namespace")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[e._v("App"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Controller")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("use")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[e._v("Symfony"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Bundle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("FrameworkBundle"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Controller"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("AbstractController")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("use")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[e._v("Symfony"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("HttpFoundation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Response")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("use")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token package"}},[e._v("Symfony"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Component"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Routing"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Annotation"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("\\")]),e._v("Route")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(";")]),e._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v('/**\n * @Route(host="blog.example.com", requirements={"_locale": "en|es|fr"}, name="blog_")\n */')]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("class")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name-definition class-name"}},[e._v("BlogController")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("extends")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[e._v("AbstractController")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v('/**\n     * @Route("/{_locale}", name="list")\n     */')]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[e._v("list")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name return-type"}},[e._v("Response")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v('/**\n     * @Route("/{_locale}/posts/{slug}", name="show")\n     */')]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("public")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("function")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token function-definition function"}},[e._v("show")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword type-hint"}},[e._v("string")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token variable"}},[e._v("$slug")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(":")]),e._v(" "),s("span",{pre:!0,attrs:{class:"token class-name return-type"}},[e._v("Response")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// ...")]),e._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),s("h2",{attrs:{id:"de-buguer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#de-buguer"}},[e._v("#")]),e._v(" Dé-buguer")]),e._v(" "),s("p",[e._v("Si vous avez des problèmes avec vos routes (qui ne sont pas prises correctement en compte par exemple), deux commandes peuvent être utiles :")]),e._v(" "),s("ul",[s("li",[s("code",[e._v("php bin/console debug:router")]),e._v(" qui vous permet de lister toutes les routes de votre application, avec cette variante pour ne pas avoir les routes du profiler et des outils de débug de Symfony : "),s("code",[e._v("php bin/console debug:router --env=prod")])]),e._v(" "),s("li",[s("code",[e._v("php bin/console router:match /un/chemin/a/tester")]),e._v(" pour savoir quel controller et quelle action sont appelées pour le chemin donné")])]),e._v(" "),s("h2",{attrs:{id:"pour-resumer"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#pour-resumer"}},[e._v("#")]),e._v(" Pour résumer")]),e._v(" "),s("ul",[s("li",[e._v("Les routes font le lien entre les urls et les actions (méthodes de controllers).")]),e._v(" "),s("li",[e._v("Elles sont définies par (au moins) un chemin (premier paramètre) et un nom.")]),e._v(" "),s("li",[e._v("Elles sont associées à une action sous forme d'annotations.")]),e._v(" "),s("li",[e._v("Elles peuvent prendre des paramètres, notés dans le chemin "),s("code",[e._v("{nomDuParametre}")]),e._v(" et le paramètre est disponible comme paramètre de l'action "),s("code",[e._v("$nomDuParametre")]),e._v(".\n"),s("ul",[s("li",[e._v("Ces paramètres peuvent avoir des contraintes de form (paramètre "),s("code",[e._v("requirements")]),e._v(" des routes) ou des valeurs par défaut")])])])])])}),[],!1,null,null,null);t.default=a.exports}}]);